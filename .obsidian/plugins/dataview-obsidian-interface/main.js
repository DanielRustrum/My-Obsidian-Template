/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  DVOModal: () => DVOModal,
  default: () => DVO
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");

// template.ts
function signal(default_value = void 0) {
  let signal_obj = {
    render_type: "signal",
    subscribed: [],
    _value: default_value
  };
  Object.defineProperty(signal_obj, "value", {
    get() {
      return this._value;
    },
    set(new_value) {
      this._value = new_value;
      this.subscribed.forEach((callback) => callback(new_value));
    }
  });
  return signal_obj;
}
function bind(signal2, callback) {
  signal2.subscribed.push(callback);
}
function collapseTemplate(strings, values) {
  let current_string = "", new_result = [];
  for (let index = 0; index < values.length; index += 1) {
    current_string += strings[index];
    if (values[index].render_type === "signal" || Array.isArray(values[index]) && values[index][0].render_type === "signal" || values[index].render_type === "template" || Array.isArray(values[index]) && values[index][0].render_type === "template" || values[index].render_type === "child" || typeof values[index] === "function" || values[index] instanceof HTMLElement) {
      new_result.push(current_string);
      current_string = "";
      new_result.push(values[index]);
    } else {
      current_string += values[index];
    }
  }
  new_result.push(current_string + strings[strings.length - 1]);
  return new_result;
}
function buildVDOM(template2) {
  let root = {
    render_type: "template",
    children: []
  };
  let current_node = root;
  let stack = [], attribute = [], attributes = [], content = [];
  let last_char = "", element = "", partial_attribute = "", partial_content = "";
  let in_tag = false, in_close_tag = false, in_content = false, in_attributes = false, in_attribute_string = false;
  stack.push(root);
  for (let segment of template2) {
    if (typeof segment === "string") {
      for (let char of segment) {
        if (in_tag && ["=", " ", ">"].includes(char) && !in_attribute_string && in_attributes && !in_close_tag) {
          if (partial_attribute !== "")
            attribute.push(partial_attribute);
          partial_attribute = "";
        }
        if (in_tag && (char === " " || char === ">") && !in_attribute_string && in_attributes && !in_close_tag) {
          if (attribute.length !== 0)
            attributes.push(attribute);
          attribute = [];
        }
        if (in_tag && !in_attributes && !["/", " ", ">"].includes(char) && !in_close_tag)
          element += char;
        if (in_tag && in_attributes && (!in_attribute_string && !["/", " ", ">", "=", '"', "'", "\n"].includes(char) || in_attribute_string && !['"'].includes(char)) && !in_close_tag)
          partial_attribute += char;
        if (in_content && char !== "<")
          partial_content += char;
        if (char === "<") {
          in_content = false;
          if (partial_content !== "")
            content.push(partial_content);
          if (content.length !== 0 && current_node)
            current_node.children.push(content);
          content = [];
          partial_content = "";
        }
        if (char === ">") {
          if (in_tag) {
            let node = {
              render_type: "node",
              children: []
            };
            if (!in_close_tag) {
              node["element"] = element;
              node["attrs"] = attributes;
              current_node.children.push(node);
              if (last_char !== "/") {
                stack.push(current_node);
                current_node = node;
              }
            } else {
              current_node = stack.pop();
            }
            in_tag = false;
            in_close_tag = false;
            in_attributes = false;
            attributes = [];
            element = "";
          }
          in_content = true;
        }
        if (in_tag && char === " ")
          in_attributes = true;
        if (char === "<")
          in_tag = true;
        if (last_char === "<" && char === "/")
          in_close_tag = true;
        if (char === '"' && in_attributes)
          in_attribute_string = !in_attribute_string;
        last_char = char;
      }
    }
    if (segment.render_type === "signal") {
      if (in_content) {
        content.push(partial_content);
        content.push(segment);
        partial_content = "";
      }
      if (in_attributes) {
        attribute.push(segment);
      }
    }
    if (typeof segment === "function") {
      if (in_attributes && attribute.length === 1) {
        attribute.push(segment);
      }
    }
    if (segment.render_type === "template" || segment.render_type === "child") {
      current_node.children.push(segment);
    }
    if (Array.isArray(segment)) {
      if (segment[0].render_type === "signal") {
        if (in_content) {
          content.push(partial_content);
          content.push(segment);
          partial_content = "";
        }
        if (in_attributes) {
          attribute.push(segment);
        }
      }
      if (segment[0].render_type === "template") {
        current_node.children.push(...segment);
      }
    }
    if (segment instanceof HTMLElement) {
      current_node.children.push(segment);
    }
  }
  return root;
}
function buildFragment(VDOM) {
  if (VDOM instanceof HTMLElement) {
    return [VDOM, {}];
  }
  if (VDOM.render_type === "template") {
    let node_fragment = new DocumentFragment();
    for (let node of VDOM.children) {
      let [result_node, _] = buildFragment(node);
      node_fragment.append(result_node);
    }
    return [node_fragment, {}];
  }
  if (VDOM.render_type === "node") {
    let element = document.createElement(VDOM["element"]);
    for (let attr of VDOM.attrs) {
      if (attr[0].startsWith("[") && attr[0].endsWith("]"))
        element.addEventListener(
          attr[0].substr(
            1,
            attr[0].length - 2
          ),
          attr[1]
        );
      else if (attr.length === 1)
        element.setAttribute(attr[0], "");
      else if (attr[1].render_type === "signal") {
        element.setAttribute(attr[0], attr[1].value);
        bind(attr[1], (value) => {
          element.setAttribute(attr[0], value);
        });
      } else if (Array.isArray(attr[1]) && attr[1][0].render_type === "signal") {
        if (attr[1][1].constructor.name == "AsyncFunction")
          element.setAttribute(
            attr[0],
            attr[1][1]().then(() => {
            }).catch((error) => {
              throw error;
            })
          );
        else
          element.setAttribute(
            attr[0],
            attr[1][1]()
          );
        bind(attr[1][0], () => {
          if (attr[1][1].constructor.name == "AsyncFunction")
            element.setAttribute(
              attr[0],
              attr[1][1]().then(() => {
              }).catch((error) => {
                throw error;
              })
            );
          else
            element.setAttribute(
              attr[0],
              attr[1][1]()
            );
        });
      } else
        element.setAttribute(attr[0], attr[1]);
    }
    let index = 0;
    let signals = [];
    for (let node of VDOM.children) {
      let [result_node, data] = buildFragment(node);
      if ("signals" in data && data.signals.length > 0) {
        signals.push([index, data.signals, node]);
      }
      if (typeof result_node === "string")
        element.insertAdjacentHTML("beforeend", result_node);
      else
        element.append(result_node);
      index += 1;
    }
    if (signals.length > 0) {
      for (let signal_data of signals) {
        for (let signal2 of signal_data[1]) {
          bind(signal2, () => {
            let [result_node, _] = buildFragment(signal_data[2]);
            let old = element.childNodes[signal_data[0]];
            old.replaceWith(
              result_node
            );
          });
        }
      }
    }
    return [element, {}];
  }
  if (VDOM.render_type === "child") {
    return [VDOM.content, {}];
  }
  let content_string = "";
  let signals_content = [];
  for (let content of VDOM) {
    if (content.render_type === "signal") {
      content_string += content.value;
      signals_content.push(content);
    } else if (Array.isArray(content) && content[0].render_type === "signal") {
      if (content[1].constructor.name == "AsyncFunction")
        content_string += content[1]().then(() => {
        }).catch((error) => {
          throw error;
        });
      else
        content_string += content[1]();
      signals_content.push(content[0]);
    } else if (content instanceof HTMLElement) {
    } else {
      content_string += content;
    }
  }
  return [document.createTextNode(content_string), {
    signals: signals_content
  }];
}
function template(strings, ...values) {
  return buildVDOM(collapseTemplate(strings, values));
}
function render(template2) {
  return buildFragment(template2)[0];
}

// main.ts
var DEFAULT_SETTINGS = {
  mySetting: "default"
};
var modal_map = /* @__PURE__ */ new Map();
var collections = /* @__PURE__ */ new Map();
var bin_path;
var DVOModal = class extends import_obsidian.Modal {
  constructor(app) {
    super(app);
    this.id = "";
  }
  onOpen() {
    let { contentEl } = this;
    let content = modal_map.get(this.id);
    contentEl.append(content === void 0 ? "" : content);
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  setID(id) {
    this.id = id;
    return this;
  }
};
var DVO = class extends import_obsidian.Plugin {
  //@ts-ignore
  async onload() {
    await this.loadSettings();
    let plugin = this;
    bin_path = `/Meta/Database`;
    globalThis.DvO = {
      command: (name, callback) => {
        let id = name.toLowerCase().replace(" ", "-");
        plugin.addCommand({
          id,
          name,
          callback
        });
      },
      modal: {
        define: (id, content) => {
          modal_map.set(id, content);
        },
        //@ts-ignore
        open: (id) => {
          new DVOModal(this.app).setID(id).open();
        }
      },
      vault: {
        //@ts-ignore
        create: async (path, content = "") => {
          if (path[path.length - 1] === "/" || path[path.length - 1] === "\\")
            this.app.vault.createFolder(`./${path}`);
          else
            this.app.vault.create(
              `./${path}.md`,
              content === "" ? "" : content
            );
        },
        read: async (file) => {
          let vault_file;
          if (file === "") {
            vault_file = plugin.app.vault.fileMap[""];
          } else {
            vault_file = plugin.app.vault.fileMap[file];
          }
          return await plugin.app.vault.read(vault_file);
        },
        write: async (file, content) => {
          let vault_file;
          if (file === "") {
            vault_file = plugin.app.vault.fileMap[""];
          } else {
            vault_file = plugin.app.vault.fileMap[file];
          }
          return await plugin.app.vault.modify(vault_file, content);
        },
        //@ts-ignore
        append: async (file, content) => {
          let vault_file;
          if (file === "") {
            vault_file = plugin.app.vault.fileMap[""];
          } else {
            vault_file = plugin.app.vault.fileMap[file];
          }
          return await plugin.app.vault.append(vault_file, content);
        },
        delete: async (file) => {
          let vault_file;
          if (file === "") {
            vault_file = plugin.app.vault.fileMap[""];
          } else {
            vault_file = plugin.app.vault.fileMap[file];
          }
          return await plugin.app.vault.delete(vault_file, true);
        },
        metadata: async (file) => {
          let vault_file;
          if (file === "") {
            vault_file = plugin.app.vault.fileMap[""];
          } else {
            vault_file = plugin.app.vault.fileMap[file];
          }
        }
      },
      storage: {
        set: (collection, data) => {
          if (Array.isArray(data))
            collections.set(collection, [
              ...collections.get(collection),
              ...data
            ]);
          else if (typeof data === "object")
            collections.set(collection, {
              ...collections.get(collection),
              ...data
            });
          else
            collections.set(collection, data);
        },
        get: async (collection) => {
          let data = collections.get(collection);
          if (data === void 0) {
            let vault_file = plugin.app.vault.fileMap[`${bin_path}/${collection}.bucket`];
            data = JSON.parse(
              //@ts-ignore
              await plugin.app.vault.read(vault_file)
            );
          }
          return data;
        },
        save: async () => {
          for (let [collection, data] of collections) {
            let vault_file = plugin.app.vault.fileMap[`${bin_path}/${collection}.bucket`];
            try {
              await plugin.app.vault.create(
                vault_file,
                JSON.stringify(data)
              );
            } catch (error) {
              console.log(error);
              await plugin.app.vault.modify(
                vault_file,
                JSON.stringify(data)
              );
            }
          }
        },
        delete: async (collection) => {
          let vault_file = plugin.app.vault.fileMap[`${bin_path}/${collection}.bucket`];
          await plugin.app.vault.delete(vault_file, true);
        }
      },
      dom: {
        script: (src) => {
        },
        css: (styles) => {
        }
      },
      jobs: {},
      settings: {},
      templates: {
        define: template,
        signal,
        render,
        bind
      }
    };
    this.addSettingTab(new DVOSettingTab(this.app, this));
  }
  onunload() {
    const fs = require("fs");
    for (let [collection, data] of collections) {
      fs.writeFileSync(
        `${bin_path}/${collection}.bucket`,
        JSON.stringify(data)
      );
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var DVOSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Setting #1").setDesc("It's a secret").addText((text) => text.setPlaceholder("Enter your secret").setValue(this.plugin.settings.mySetting).onChange(async (value) => {
      this.plugin.settings.mySetting = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJ0ZW1wbGF0ZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiXHRcdC8vQHRzLWlnbm9yZVxyXG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIFRGaWxlLCBURm9sZGVyIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgKiBhcyB0ZW1wbGF0ZSBmcm9tICcuL3RlbXBsYXRlJ1xyXG5cclxuaW50ZXJmYWNlIERWT1NldHRpbmdzIHtcclxuXHRteVNldHRpbmc6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogRFZPU2V0dGluZ3MgPSB7XHJcblx0bXlTZXR0aW5nOiAnZGVmYXVsdCdcclxufVxyXG5cclxuY29uc3QgbW9kYWxfbWFwID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZyB8IEhUTUxFbGVtZW50IHwgRG9jdW1lbnRGcmFnbWVudD4oKVxyXG5jb25zdCBjb2xsZWN0aW9ucyA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KClcclxubGV0IGJpbl9wYXRoOiBzdHJpbmc7XHJcblxyXG5leHBvcnQgY2xhc3MgRFZPTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cHVibGljIGlkOiBzdHJpbmdcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHApIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLmlkID0gXCJcIlxyXG5cdH1cclxuICBcclxuXHRvbk9wZW4oKSB7XHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpc1xyXG5cdFx0bGV0IGNvbnRlbnQgPSBtb2RhbF9tYXAuZ2V0KHRoaXMuaWQpXHJcblx0XHRjb250ZW50RWwuYXBwZW5kKGNvbnRlbnQgPT09IHVuZGVmaW5lZD8gXCJcIjogY29udGVudClcclxuXHR9XHJcbiAgXHJcblx0b25DbG9zZSgpIHtcclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdCAgXHRsZXQgeyBjb250ZW50RWwgfSA9IHRoaXNcclxuXHQgIFx0Y29udGVudEVsLmVtcHR5KClcclxuXHR9XHJcblxyXG5cdHNldElEKGlkOiBzdHJpbmcpIHtcclxuXHRcdHRoaXMuaWQgPSBpZFxyXG5cdFx0cmV0dXJuIHRoaXNcclxuXHR9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERWTyBleHRlbmRzIFBsdWdpbiB7XHJcblx0c2V0dGluZ3M6IERWT1NldHRpbmdzXHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0YXN5bmMgb25sb2FkKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKVxyXG5cdFx0XHJcblx0XHRsZXQgcGx1Z2luID0gdGhpc1xyXG5cdFx0YmluX3BhdGggPSBgL01ldGEvRGF0YWJhc2VgXHJcblxyXG5cdFx0Ly8gdHJ5IHtcclxuXHRcdC8vIFx0dGhpcy5hcHAudmF1bHQuY3JlYXRlRm9sZGVyKGJpbl9wYXRoKVxyXG5cdFx0Ly8gfSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHJcblx0XHQvLyB9XHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRnbG9iYWxUaGlzLkR2TyA9IHtcclxuXHRcdFx0Y29tbWFuZDogKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcclxuXHRcdFx0XHRsZXQgaWQgPSBuYW1lXHJcblx0XHRcdFx0XHQudG9Mb3dlckNhc2UoKVxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoXCIgXCIsIFwiLVwiKVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdHBsdWdpbi5hZGRDb21tYW5kKHtcclxuXHRcdFx0XHRcdGlkLFxyXG5cdFx0XHRcdFx0bmFtZSxcclxuXHRcdFx0XHRcdGNhbGxiYWNrXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSxcclxuXHRcdFx0bW9kYWw6IHtcclxuXHRcdFx0XHRkZWZpbmU6IChpZDpzdHJpbmcsIGNvbnRlbnQ6c3RyaW5nKSA9PiB7bW9kYWxfbWFwLnNldChpZCwgY29udGVudCl9LFxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0b3BlbjogKGlkOnN0cmluZykgPT4ge25ldyBEVk9Nb2RhbCh0aGlzLmFwcCkuc2V0SUQoaWQpLm9wZW4oKX0sXHJcblx0XHRcdH0sXHJcblx0XHRcdHZhdWx0OiB7XHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRjcmVhdGU6IGFzeW5jIChwYXRoOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyA9IFwiXCIpID0+IHtcclxuXHRcdFx0XHRcdGlmKFxyXG5cdFx0XHRcdFx0XHRwYXRoW3BhdGgubGVuZ3RoLTFdID09PSBcIi9cIiB8fCBcclxuXHRcdFx0XHRcdFx0cGF0aFtwYXRoLmxlbmd0aC0xXSA9PT0gXCJcXFxcXCJcclxuXHRcdFx0XHRcdClcclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR0aGlzLmFwcC52YXVsdC5jcmVhdGVGb2xkZXIoYC4vJHtwYXRofWApXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0dGhpcy5hcHAudmF1bHQuY3JlYXRlKFxyXG5cdFx0XHRcdFx0XHRcdGAuLyR7cGF0aH0ubWRgLCBcclxuXHRcdFx0XHRcdFx0XHRjb250ZW50ID09PSBcIlwiPyBcIlwiOiBjb250ZW50XHJcblx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHJlYWQ6IGFzeW5jIChmaWxlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdGxldCB2YXVsdF9maWxlO1xyXG5cclxuXHRcdFx0XHRcdGlmKGZpbGUgPT09IFwiXCIpIHtcclxuXHRcdFx0XHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRcdHZhdWx0X2ZpbGUgPSBwbHVnaW4uYXBwLnZhdWx0LmZpbGVNYXBbXCJcIl1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR2YXVsdF9maWxlID0gcGx1Z2luLmFwcC52YXVsdC5maWxlTWFwW2ZpbGVdXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRyZXR1cm4gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5yZWFkKHZhdWx0X2ZpbGUpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHR3cml0ZTogYXN5bmMgKGZpbGU6IHN0cmluZywgY29udGVudDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgdmF1bHRfZmlsZTtcclxuXHJcblx0XHRcdFx0XHRpZihmaWxlID09PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR2YXVsdF9maWxlID0gcGx1Z2luLmFwcC52YXVsdC5maWxlTWFwW1wiXCJdXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0dmF1bHRfZmlsZSA9IHBsdWdpbi5hcHAudmF1bHQuZmlsZU1hcFtmaWxlXVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IHBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KHZhdWx0X2ZpbGUsIGNvbnRlbnQpXHJcblx0XHRcdFx0fSxcclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdGFwcGVuZDogYXN5bmMgKGZpbGU6IHN0cmluZywgY29udGVudDogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgdmF1bHRfZmlsZTtcclxuXHJcblx0XHRcdFx0XHRpZihmaWxlID09PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR2YXVsdF9maWxlID0gcGx1Z2luLmFwcC52YXVsdC5maWxlTWFwW1wiXCJdXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0dmF1bHRfZmlsZSA9IHBsdWdpbi5hcHAudmF1bHQuZmlsZU1hcFtmaWxlXVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuYXBwZW5kKHZhdWx0X2ZpbGUsIGNvbnRlbnQpXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRkZWxldGU6IGFzeW5jIChmaWxlOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdGxldCB2YXVsdF9maWxlO1xyXG5cclxuXHRcdFx0XHRcdGlmKGZpbGUgPT09IFwiXCIpIHtcclxuXHRcdFx0XHRcdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRcdHZhdWx0X2ZpbGUgPSBwbHVnaW4uYXBwLnZhdWx0LmZpbGVNYXBbXCJcIl1cclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR2YXVsdF9maWxlID0gcGx1Z2luLmFwcC52YXVsdC5maWxlTWFwW2ZpbGVdXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRyZXR1cm4gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5kZWxldGUodmF1bHRfZmlsZSwgdHJ1ZSlcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG1ldGFkYXRhOiBhc3luYyAoZmlsZTogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHRsZXQgdmF1bHRfZmlsZTtcclxuXHJcblx0XHRcdFx0XHRpZihmaWxlID09PSBcIlwiKSB7XHJcblx0XHRcdFx0XHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHRcdFx0XHR2YXVsdF9maWxlID0gcGx1Z2luLmFwcC52YXVsdC5maWxlTWFwW1wiXCJdXHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0dmF1bHRfZmlsZSA9IHBsdWdpbi5hcHAudmF1bHQuZmlsZU1hcFtmaWxlXVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0c3RvcmFnZToge1xyXG5cdFx0XHRcdHNldDogKGNvbGxlY3Rpb246IHN0cmluZywgZGF0YTogYW55KSA9PiB7XHJcblx0XHRcdFx0XHRpZihBcnJheS5pc0FycmF5KGRhdGEpKVxyXG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9ucy5zZXQoY29sbGVjdGlvbiwgW1xyXG5cdFx0XHRcdFx0XHRcdC4uLmNvbGxlY3Rpb25zLmdldChjb2xsZWN0aW9uKSwgXHJcblx0XHRcdFx0XHRcdFx0Li4uZGF0YVxyXG5cdFx0XHRcdFx0XHRdKTtcclxuXHRcdFx0XHRcdGVsc2UgaWYodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIpXHJcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb25zLnNldChjb2xsZWN0aW9uLCB7XHJcblx0XHRcdFx0XHRcdFx0Li4uY29sbGVjdGlvbnMuZ2V0KGNvbGxlY3Rpb24pLCBcclxuXHRcdFx0XHRcdFx0XHQuLi5kYXRhXHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9ucy5zZXQoY29sbGVjdGlvbiwgZGF0YSk7XHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRnZXQ6IGFzeW5jIChjb2xsZWN0aW9uOiBzdHJpbmcpID0+IHtcclxuXHRcdFx0XHRcdGxldCBkYXRhID0gY29sbGVjdGlvbnMuZ2V0KGNvbGxlY3Rpb24pXHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdGlmKGRhdGEgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0bGV0IHZhdWx0X2ZpbGUgPSBwbHVnaW4uYXBwLnZhdWx0LmZpbGVNYXBbYCR7YmluX3BhdGh9LyR7Y29sbGVjdGlvbn0uYnVja2V0YF1cclxuXHJcblx0XHRcdFx0XHRcdGRhdGEgPSBKU09OLnBhcnNlKFxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgcGx1Z2luLmFwcC52YXVsdC5yZWFkKHZhdWx0X2ZpbGUpXHJcblx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0c2F2ZTogYXN5bmMgKCkgPT4ge1x0XHJcblx0XHRcdFx0XHRmb3IobGV0IFtjb2xsZWN0aW9uLCBkYXRhXSBvZiBjb2xsZWN0aW9ucykge1xyXG5cdFx0XHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0bGV0IHZhdWx0X2ZpbGUgPSBwbHVnaW4uYXBwLnZhdWx0LmZpbGVNYXBbYCR7YmluX3BhdGh9LyR7Y29sbGVjdGlvbn0uYnVja2V0YF1cclxuXHJcblx0XHRcdFx0XHRcdHRyeSB7XHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmNyZWF0ZShcclxuXHRcdFx0XHRcdFx0XHRcdHZhdWx0X2ZpbGUsIFxyXG5cdFx0XHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuXHRcdFx0XHRcdFx0XHQpXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNhdGNoKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyb3IpXHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShcclxuXHRcdFx0XHRcdFx0XHRcdHZhdWx0X2ZpbGUsIFxyXG5cdFx0XHRcdFx0XHRcdFx0SlNPTi5zdHJpbmdpZnkoZGF0YSlcclxuXHRcdFx0XHRcdFx0XHQpXHRcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZGVsZXRlOiBhc3luYyAoY29sbGVjdGlvbjogc3RyaW5nKSA9PiB7XHJcblx0XHRcdFx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdFx0XHRcdGxldCB2YXVsdF9maWxlID0gcGx1Z2luLmFwcC52YXVsdC5maWxlTWFwW2Ake2Jpbl9wYXRofS8ke2NvbGxlY3Rpb259LmJ1Y2tldGBdXHJcblxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0XHRhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmRlbGV0ZSh2YXVsdF9maWxlLCB0cnVlKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0ZG9tOiB7XHJcblx0XHRcdFx0c2NyaXB0OiAoc3JjOiBzdHJpbmcpID0+IHt9LFxyXG5cdFx0XHRcdGNzczogKHN0eWxlczogc3RyaW5nKSA9PiB7fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRqb2JzOiB7fSxcclxuXHRcdFx0c2V0dGluZ3M6IHt9LFxyXG5cdFx0XHR0ZW1wbGF0ZXM6IHtcclxuXHRcdFx0XHRkZWZpbmU6IHRlbXBsYXRlLnRlbXBsYXRlLFxyXG5cdFx0XHRcdHNpZ25hbDogdGVtcGxhdGUuc2lnbmFsLFxyXG5cdFx0XHRcdHJlbmRlcjogdGVtcGxhdGUucmVuZGVyLFxyXG5cdFx0XHRcdGJpbmQ6IHRlbXBsYXRlLmJpbmRcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBEVk9TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSlcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge1xyXG5cdFx0Y29uc3QgZnMgPSByZXF1aXJlKCdmcycpXHJcblx0XHJcblx0XHRmb3IobGV0IFtjb2xsZWN0aW9uLCBkYXRhXSBvZiBjb2xsZWN0aW9ucykge1xyXG5cdFx0XHRmcy53cml0ZUZpbGVTeW5jKFxyXG5cdFx0XHRcdGAke2Jpbl9wYXRofS8ke2NvbGxlY3Rpb259LmJ1Y2tldGAsIFxyXG5cdFx0XHRcdEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcblx0XHRcdClcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcbn1cclxuXHJcblxyXG5cclxuY2xhc3MgRFZPU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogRFZPO1xyXG5cclxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBEVk8pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1NldHRpbmcgIzEnKVxyXG5cdFx0XHQuc2V0RGVzYygnSXRcXCdzIGEgc2VjcmV0JylcclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcclxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgc2VjcmV0JylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nKVxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlTZXR0aW5nID0gdmFsdWU7XHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHR9KSk7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgeyBlcnJvciB9IGZyb20gXCJjb25zb2xlXCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaWduYWwoZGVmYXVsdF92YWx1ZSA9IHVuZGVmaW5lZCkge1xyXG4gICAgbGV0IHNpZ25hbF9vYmogPSB7XHJcbiAgICAgICAgcmVuZGVyX3R5cGU6ICdzaWduYWwnLFxyXG4gICAgICAgIHN1YnNjcmliZWQ6IFtdLFxyXG4gICAgICAgIF92YWx1ZTogZGVmYXVsdF92YWx1ZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2lnbmFsX29iaiwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgZ2V0KCkge3JldHVybiB0aGlzLl92YWx1ZX0sXHJcbiAgICAgICAgc2V0KG5ld192YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IG5ld192YWx1ZVxyXG5cdFx0Ly9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlZC5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKG5ld192YWx1ZSkpXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHNpZ25hbF9vYmpcclxufVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5leHBvcnQgZnVuY3Rpb24gYmluZChzaWduYWwsIGNhbGxiYWNrKSB7XHJcbiAgICBzaWduYWwuc3Vic2NyaWJlZC5wdXNoKGNhbGxiYWNrKVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY29sbGFwc2VUZW1wbGF0ZShzdHJpbmdzOiBhbnksIHZhbHVlczogYW55KSB7XHJcbiAgICBsZXQgY3VycmVudF9zdHJpbmcgPSBcIlwiLCBcclxuICAgICAgICBuZXdfcmVzdWx0ID0gW11cclxuICAgIFxyXG4gICAgZm9yKFxyXG4gICAgICAgIGxldCBpbmRleCA9IDA7IFxyXG4gICAgICAgIGluZGV4IDwgdmFsdWVzLmxlbmd0aDsgXHJcbiAgICAgICAgaW5kZXggKz0gMVxyXG4gICAgKSB7ICBcclxuICAgICAgICBjdXJyZW50X3N0cmluZyArPSBzdHJpbmdzW2luZGV4XVxyXG5cclxuICAgICAgICBpZihcclxuICAgICAgICAgICAgdmFsdWVzW2luZGV4XS5yZW5kZXJfdHlwZSA9PT0gXCJzaWduYWxcIiB8fFxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlc1tpbmRleF0pICYmIFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XVswXS5yZW5kZXJfdHlwZSA9PT0gXCJzaWduYWxcIlxyXG4gICAgICAgICAgICApIHx8XHJcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0ucmVuZGVyX3R5cGUgPT09IFwidGVtcGxhdGVcIiB8fCAoXHJcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlc1tpbmRleF0pICYmIFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XVswXS5yZW5kZXJfdHlwZSA9PT0gXCJ0ZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICkgfHxcclxuICAgICAgICAgICAgdmFsdWVzW2luZGV4XS5yZW5kZXJfdHlwZSA9PT0gXCJjaGlsZFwiIHx8XHJcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZXNbaW5kZXhdID09PSAnZnVuY3Rpb24nIHx8XHJcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBuZXdfcmVzdWx0LnB1c2goY3VycmVudF9zdHJpbmcpXHJcbiAgICAgICAgICAgIGN1cnJlbnRfc3RyaW5nID0gXCJcIlxyXG4gICAgICAgICAgICBuZXdfcmVzdWx0LnB1c2godmFsdWVzW2luZGV4XSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50X3N0cmluZyArPSB2YWx1ZXNbaW5kZXhdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBuZXdfcmVzdWx0LnB1c2goY3VycmVudF9zdHJpbmcgKyBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV0pXHJcbiAgICByZXR1cm4gbmV3X3Jlc3VsdFxyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZFZET00odGVtcGxhdGU6IGFueSkge1xyXG4gICAgbGV0IHJvb3QgPSB7XHJcbiAgICAgICAgcmVuZGVyX3R5cGU6IFwidGVtcGxhdGVcIixcclxuICAgICAgICBjaGlsZHJlbjogW11cclxuICAgIH1cclxuXHJcbiAgICBsZXQgY3VycmVudF9ub2RlID0gcm9vdFxyXG5cclxuICAgIGxldCBzdGFjayA9IFtdLFxyXG4gICAgICAgIGF0dHJpYnV0ZSA9IFtdLFxyXG4gICAgICAgIGF0dHJpYnV0ZXMgPSBbXSxcclxuICAgICAgICBjb250ZW50ID0gW11cclxuICAgIFxyXG4gICAgbGV0IGxhc3RfY2hhciA9IFwiXCIsXHJcbiAgICAgICAgZWxlbWVudCA9IFwiXCIsXHJcbiAgICAgICAgcGFydGlhbF9hdHRyaWJ1dGUgPSBcIlwiLFxyXG4gICAgICAgIHBhcnRpYWxfY29udGVudCA9IFwiXCJcclxuICAgIFxyXG4gICAgXHJcbiAgICBsZXQgaW5fdGFnID0gZmFsc2UsXHJcbiAgICAgICAgaW5fY2xvc2VfdGFnID0gZmFsc2UsXHJcbiAgICAgICAgaW5fY29udGVudCA9IGZhbHNlLFxyXG4gICAgICAgIGluX2F0dHJpYnV0ZXMgPSBmYWxzZSxcclxuICAgICAgICBpbl9hdHRyaWJ1dGVfc3RyaW5nID0gZmFsc2VcclxuICAgIFxyXG4gICAgc3RhY2sucHVzaChyb290KVxyXG5cclxuICAgIGZvcihsZXQgc2VnbWVudCBvZiB0ZW1wbGF0ZSkge1xyXG4gICAgICAgIGlmKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgY2hhciBvZiBzZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdHRycyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgIGluX3RhZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBbXCI9XCIsIFwiIFwiLCBcIj5cIl0uaW5jbHVkZXMoY2hhcikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhaW5fYXR0cmlidXRlX3N0cmluZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBpbl9hdHRyaWJ1dGVzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgICkgeyBcclxuICAgICAgICAgICAgICAgICAgICBpZihwYXJ0aWFsX2F0dHJpYnV0ZSAhPT0gXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnB1c2gocGFydGlhbF9hdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxfYXR0cmlidXRlID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fdGFnICYmIFxyXG4gICAgICAgICAgICAgICAgICAgIChjaGFyID09PSBcIiBcIiB8fCBjaGFyID09PSBcIj5cIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhaW5fYXR0cmlidXRlX3N0cmluZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBpbl9hdHRyaWJ1dGVzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgICl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXR0cmlidXRlLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlID0gW11cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCdWlsZCBTdHJpbmdzICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihcclxuICAgICAgICAgICAgICAgICAgICBpbl90YWcgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgIWluX2F0dHJpYnV0ZXMgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgIVtcIi9cIiwgXCIgXCIsIFwiPlwiXS5pbmNsdWRlcyhjaGFyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgIGluX3RhZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBpbl9hdHRyaWJ1dGVzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCFpbl9hdHRyaWJ1dGVfc3RyaW5nICYmICFbXCIvXCIsIFwiIFwiLCBcIj5cIiwgXCI9XCIsIFwiXFxcIlwiLCBcIidcIiwgXCJcXG5cIl0uaW5jbHVkZXMoY2hhcikpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChpbl9hdHRyaWJ1dGVfc3RyaW5nICYmICFbXCJcXFwiXCIsXS5pbmNsdWRlcyhjaGFyKSlcclxuICAgICAgICAgICAgICAgICAgICApICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgICkgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbF9hdHRyaWJ1dGUgKz0gY2hhcjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoaW5fY29udGVudCAmJiBjaGFyICE9PSAnPCcpIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxfY29udGVudCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBPZiBUYWdcclxuICAgICAgICAgICAgICAgIGlmKGNoYXIgPT09IFwiPFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5fY29udGVudCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGFydGlhbF9jb250ZW50ICE9PSBcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2gocGFydGlhbF9jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjb250ZW50Lmxlbmd0aCAhPT0gMCAmJiBjdXJyZW50X25vZGUpXHJcblx0XHQgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfbm9kZS5jaGlsZHJlbi5wdXNoKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbXVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxfY29udGVudCA9IFwiXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIFRhZyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGNoYXIgPT09IFwiPlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5fdGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyX3R5cGU6ICdub2RlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighaW5fY2xvc2VfdGFnKSB7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbXCJlbGVtZW50XCJdID0gZWxlbWVudFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbXCJhdHRyc1wiXSA9IGF0dHJpYnV0ZXNcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25vZGUuY2hpbGRyZW4ucHVzaChub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihsYXN0X2NoYXIgIT09IFwiL1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChjdXJyZW50X25vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9ub2RlID0gbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25vZGUgPSBzdGFjay5wb3AoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5fdGFnID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5fY2xvc2VfdGFnID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5fYXR0cmlidXRlcyA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fY29udGVudCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIFN0YXRlcyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGluX3RhZyAmJiBjaGFyID09PSBcIiBcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fYXR0cmlidXRlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZihjaGFyID09PSBcIjxcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fdGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmKGxhc3RfY2hhciA9PT0gXCI8XCIgJiYgY2hhciA9PT0gXCIvXCIpIFxyXG4gICAgICAgICAgICAgICAgICAgIGluX2Nsb3NlX3RhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZihjaGFyID09PSBcIlxcXCJcIiAmJiBpbl9hdHRyaWJ1dGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIGluX2F0dHJpYnV0ZV9zdHJpbmcgPSAhaW5fYXR0cmlidXRlX3N0cmluZztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVHJhY2sgQ2hhciAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxhc3RfY2hhciA9IGNoYXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuICAgICAgICBpZihzZWdtZW50LnJlbmRlcl90eXBlID09PSAnc2lnbmFsJykge1xyXG4gICAgICAgICAgICBpZihpbl9jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2gocGFydGlhbF9jb250ZW50KVxyXG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICBwYXJ0aWFsX2NvbnRlbnQgPSBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGluX2F0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5wdXNoKHNlZ21lbnQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBzZWdtZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmKGluX2F0dHJpYnV0ZXMgJiYgYXR0cmlidXRlLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLnB1c2goc2VnbWVudClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoXHJcbiAgICAgICAgICAgIHNlZ21lbnQucmVuZGVyX3R5cGUgPT09ICd0ZW1wbGF0ZScgfHxcclxuICAgICAgICAgICAgc2VnbWVudC5yZW5kZXJfdHlwZSA9PT0gJ2NoaWxkJ1xyXG4gICAgICAgICkge1xyXG5cdFx0ICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjdXJyZW50X25vZGUuY2hpbGRyZW4ucHVzaChzZWdtZW50KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xyXG4gICAgICAgICAgICBpZihzZWdtZW50WzBdLnJlbmRlcl90eXBlID09PSBcInNpZ25hbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpbl9jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHBhcnRpYWxfY29udGVudClcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goc2VnbWVudClcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsX2NvbnRlbnQgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoaW5fYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5wdXNoKHNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHNlZ21lbnRbMF0ucmVuZGVyX3R5cGUgPT09IFwidGVtcGxhdGVcIikge1xyXG5cdFx0ICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRfbm9kZS5jaGlsZHJlbi5wdXNoKC4uLnNlZ21lbnQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNlZ21lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgY3VycmVudF9ub2RlLmNoaWxkcmVuLnB1c2goc2VnbWVudClcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByb290XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoVkRPTTogYW55KSB7XHJcbiAgICBpZihWRE9NIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gW1ZET00sIHt9XVxyXG4gICAgfVxyXG5cclxuICAgIGlmKFZET00ucmVuZGVyX3R5cGUgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgICBsZXQgbm9kZV9mcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KClcclxuICAgICAgICBmb3IgKGxldCBub2RlIG9mIFZET00uY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbGV0IFtyZXN1bHRfbm9kZSwgX10gPSBidWlsZEZyYWdtZW50KG5vZGUpXHJcbiAgICAgICAgICAgIG5vZGVfZnJhZ21lbnQuYXBwZW5kKHJlc3VsdF9ub2RlKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW25vZGVfZnJhZ21lbnQsIHt9XVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChWRE9NLnJlbmRlcl90eXBlID09PSAnbm9kZScpIHtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoVkRPTVtcImVsZW1lbnRcIl0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgYXR0ciBvZiBWRE9NLmF0dHJzKSB7XHJcbiAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgYXR0clswXS5zdGFydHNXaXRoKFwiW1wiKSAmJiBcclxuICAgICAgICAgICAgICAgIGF0dHJbMF0uZW5kc1dpdGgoXCJdXCIpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgICAgICBhdHRyWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzdHIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0clswXS5sZW5ndGgtMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJbMV1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGF0dHIubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0clswXSwgXCJcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYoYXR0clsxXS5yZW5kZXJfdHlwZSA9PT0gJ3NpZ25hbCcpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJbMF0sIGF0dHJbMV0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICBiaW5kKGF0dHJbMV0sICh2YWx1ZTphbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyWzBdLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoYXR0clsxXSkgJiYgYXR0clsxXVswXS5yZW5kZXJfdHlwZSA9PT0gJ3NpZ25hbCdcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBpZihhdHRyWzFdWzFdLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ0FzeW5jRnVuY3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyWzBdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0clsxXVsxXSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpPT57fSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgICAgICAgICAgICBhdHRyWzBdLCBcclxuICAgICAgICAgICAgICAgICAgICBhdHRyWzFdWzFdKClcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYmluZChhdHRyWzFdWzBdLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXR0clsxXVsxXS5jb25zdHJ1Y3Rvci5uYW1lID09ICdBc3luY0Z1bmN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyWzBdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJbMV1bMV0oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCk9Pnt9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJbMF0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyWzFdWzFdKClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyWzBdLCBhdHRyWzFdKTsgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBpbmRleCA9IDBcclxuICAgICAgICBsZXQgc2lnbmFscyA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBWRE9NLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGxldCBbcmVzdWx0X25vZGUsIGRhdGFdID0gYnVpbGRGcmFnbWVudChub2RlKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoJ3NpZ25hbHMnIGluIGRhdGEgJiYgZGF0YS5zaWduYWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNpZ25hbHMucHVzaChbaW5kZXgsIGRhdGEuc2lnbmFscywgbm9kZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiByZXN1bHRfbm9kZSA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmVzdWx0X25vZGUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChyZXN1bHRfbm9kZSk7XHJcbiAgICAgICAgICAgIGluZGV4ICs9IDFcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNpZ25hbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IobGV0IHNpZ25hbF9kYXRhIG9mIHNpZ25hbHMpIHtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgc2lnbmFsIG9mIHNpZ25hbF9kYXRhWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmluZChzaWduYWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFtyZXN1bHRfbm9kZSwgX10gPSBidWlsZEZyYWdtZW50KHNpZ25hbF9kYXRhWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2xkID0gZWxlbWVudC5jaGlsZE5vZGVzW3NpZ25hbF9kYXRhWzBdXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGQucmVwbGFjZVdpdGgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRfbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gW2VsZW1lbnQsIHt9XVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChWRE9NLnJlbmRlcl90eXBlID09PSAnY2hpbGQnKSB7XHJcbiAgICAgICAgcmV0dXJuIFtWRE9NLmNvbnRlbnQsIHt9XVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsZXQgY29udGVudF9zdHJpbmcgPSBcIlwiXHJcbiAgICBsZXQgc2lnbmFsc19jb250ZW50ID0gW11cclxuXHJcbiAgICBmb3IobGV0IGNvbnRlbnQgb2YgVkRPTSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgY29udGVudC5yZW5kZXJfdHlwZSA9PT0gXCJzaWduYWxcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50X3N0cmluZyArPSBjb250ZW50LnZhbHVlXHJcbiAgICAgICAgICAgIHNpZ25hbHNfY29udGVudC5wdXNoKGNvbnRlbnQpXHJcbiAgICAgICAgfSBlbHNlIGlmKEFycmF5LmlzQXJyYXkoY29udGVudCkgJiYgY29udGVudFswXS5yZW5kZXJfdHlwZSA9PT0gJ3NpZ25hbCcpIHtcclxuICAgICAgICAgICAgaWYoY29udGVudFsxXS5jb25zdHJ1Y3Rvci5uYW1lID09ICdBc3luY0Z1bmN0aW9uJylcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRfc3RyaW5nICs9IGNvbnRlbnRbMV0oKS50aGVuKCgpPT57fSkuY2F0Y2goKGVycm9yOiBFcnJvcik9Pnt0aHJvdyBlcnJvcjt9KTtcclxuICAgICAgICAgICAgZWxzZSBjb250ZW50X3N0cmluZyArPSBjb250ZW50WzFdKCk7XHJcbiAgICAgICAgICAgIHNpZ25hbHNfY29udGVudC5wdXNoKGNvbnRlbnRbMF0pXHJcbiAgICAgICAgfSBlbHNlIGlmKGNvbnRlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRfc3RyaW5nICs9IGNvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50X3N0cmluZyksIHtcclxuICAgICAgICBzaWduYWxzOiBzaWduYWxzX2NvbnRlbnRcclxuICAgIH1dXHJcblxyXG5cclxufVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGUgKHN0cmluZ3MsIC4uLnZhbHVlcykge1xyXG4gICAgcmV0dXJuIGJ1aWxkVkRPTShjb2xsYXBzZVRlbXBsYXRlKHN0cmluZ3MsIHZhbHVlcykpXHJcbn1cclxuXHJcblx0XHQvL0B0cy1pZ25vcmVcclxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcih0ZW1wbGF0ZSkge1xyXG4gICAgcmV0dXJuIGJ1aWxkRnJhZ21lbnQodGVtcGxhdGUpWzBdXHJcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxzQkFBNEc7OztBQ0NyRyxTQUFTLE9BQU8sZ0JBQWdCLFFBQVc7QUFDOUMsTUFBSSxhQUFhO0FBQUEsSUFDYixhQUFhO0FBQUEsSUFDYixZQUFZLENBQUM7QUFBQSxJQUNiLFFBQVE7QUFBQSxFQUNaO0FBRUEsU0FBTyxlQUFlLFlBQVksU0FBUztBQUFBLElBQ3ZDLE1BQU07QUFBQyxhQUFPLEtBQUs7QUFBQSxJQUFNO0FBQUEsSUFDekIsSUFBSSxXQUFXO0FBQ1gsV0FBSyxTQUFTO0FBRWQsV0FBSyxXQUFXLFFBQVEsY0FBWSxTQUFTLFNBQVMsQ0FBQztBQUFBLElBQzNEO0FBQUEsRUFDSixDQUFDO0FBRUQsU0FBTztBQUNYO0FBR08sU0FBUyxLQUFLQSxTQUFRLFVBQVU7QUFDbkMsRUFBQUEsUUFBTyxXQUFXLEtBQUssUUFBUTtBQUNuQztBQUdBLFNBQVMsaUJBQWlCLFNBQWMsUUFBYTtBQUNqRCxNQUFJLGlCQUFpQixJQUNqQixhQUFhLENBQUM7QUFFbEIsV0FDUSxRQUFRLEdBQ1osUUFBUSxPQUFP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
