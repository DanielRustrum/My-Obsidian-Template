/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DVO
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// template.ts
function signal(default_value = void 0) {
  let signal_obj = {
    render_type: "signal",
    subscribed: [],
    _value: default_value
  };
  Object.defineProperty(signal_obj, "value", {
    get() {
      return this._value;
    },
    set(new_value) {
      this._value = new_value;
      this.subscribed.forEach((callback) => callback(new_value));
    }
  });
  return signal_obj;
}
function bind(signal2, callback) {
  signal2.subscribed.push(callback);
}
function collapseTemplate(strings, values) {
  let current_string = "", new_result = [];
  for (let index = 0; index < values.length; index += 1) {
    current_string += strings[index];
    if (values[index].render_type === "signal" || Array.isArray(values[index]) && values[index][0].render_type === "signal" || values[index].render_type === "template" || Array.isArray(values[index]) && values[index][0].render_type === "template" || values[index].render_type === "child" || typeof values[index] === "function" || values[index] instanceof HTMLElement) {
      new_result.push(current_string);
      current_string = "";
      new_result.push(values[index]);
    } else {
      current_string += values[index];
    }
  }
  new_result.push(current_string + strings[strings.length - 1]);
  return new_result;
}
function buildVDOM(template2) {
  let root = {
    render_type: "template",
    children: []
  };
  let current_node = root;
  let stack = [], attribute = [], attributes = [], content = [];
  let last_char = "", element = "", partial_attribute = "", partial_content = "";
  let in_tag = false, in_close_tag = false, in_content = false, in_attributes = false, in_attribute_string = false;
  stack.push(root);
  for (let segment of template2) {
    if (typeof segment === "string") {
      for (let char of segment) {
        if (in_tag && ["=", " ", ">"].includes(char) && !in_attribute_string && in_attributes && !in_close_tag) {
          if (partial_attribute !== "")
            attribute.push(partial_attribute);
          partial_attribute = "";
        }
        if (in_tag && (char === " " || char === ">") && !in_attribute_string && in_attributes && !in_close_tag) {
          if (attribute.length !== 0)
            attributes.push(attribute);
          attribute = [];
        }
        if (in_tag && !in_attributes && !["/", " ", ">"].includes(char) && !in_close_tag)
          element += char;
        if (in_tag && in_attributes && (!in_attribute_string && !["/", " ", ">", "=", '"', "'", "\n"].includes(char) || in_attribute_string && !['"'].includes(char)) && !in_close_tag)
          partial_attribute += char;
        if (in_content && char !== "<")
          partial_content += char;
        if (char === "<") {
          in_content = false;
          if (partial_content !== "")
            content.push(partial_content);
          if (content.length !== 0 && current_node)
            current_node.children.push(content);
          content = [];
          partial_content = "";
        }
        if (char === ">") {
          if (in_tag) {
            let node = {
              render_type: "node",
              children: []
            };
            if (!in_close_tag) {
              node["element"] = element;
              node["attrs"] = attributes;
              current_node.children.push(node);
              if (last_char !== "/") {
                stack.push(current_node);
                current_node = node;
              }
            } else {
              current_node = stack.pop();
            }
            in_tag = false;
            in_close_tag = false;
            in_attributes = false;
            attributes = [];
            element = "";
          }
          in_content = true;
        }
        if (in_tag && char === " ")
          in_attributes = true;
        if (char === "<")
          in_tag = true;
        if (last_char === "<" && char === "/")
          in_close_tag = true;
        if (char === '"' && in_attributes)
          in_attribute_string = !in_attribute_string;
        last_char = char;
      }
    }
    if (segment.render_type === "signal") {
      if (in_content) {
        content.push(partial_content);
        content.push(segment);
        partial_content = "";
      }
      if (in_attributes) {
        attribute.push(segment);
      }
    }
    if (typeof segment === "function") {
      if (in_attributes && attribute.length === 1) {
        attribute.push(segment);
      }
    }
    if (segment.render_type === "template" || segment.render_type === "child") {
      current_node.children.push(segment);
    }
    if (Array.isArray(segment)) {
      if (segment[0].render_type === "signal") {
        if (in_content) {
          content.push(partial_content);
          content.push(segment);
          partial_content = "";
        }
        if (in_attributes) {
          attribute.push(segment);
        }
      }
      if (segment[0].render_type === "template") {
        current_node.children.push(...segment);
      }
    }
    if (segment instanceof HTMLElement) {
      current_node.children.push(segment);
    }
  }
  return root;
}
function buildFragment(VDOM) {
  if (VDOM instanceof HTMLElement) {
    return [VDOM, {}];
  }
  if (VDOM.render_type === "template") {
    let node_fragment = new DocumentFragment();
    for (let node of VDOM.children) {
      let [result_node, _] = buildFragment(node);
      node_fragment.append(result_node);
    }
    return [node_fragment, {}];
  }
  if (VDOM.render_type === "node") {
    let element = document.createElement(VDOM["element"]);
    for (let attr of VDOM.attrs) {
      if (attr[0].startsWith("[") && attr[0].endsWith("]"))
        element.addEventListener(
          attr[0].substr(
            1,
            attr[0].length - 2
          ),
          attr[1]
        );
      else if (attr.length === 1)
        element.setAttribute(attr[0], "");
      else if (attr[1].render_type === "signal") {
        element.setAttribute(attr[0], attr[1].value);
        bind(attr[1], (value) => {
          element.setAttribute(attr[0], value);
        });
      } else if (Array.isArray(attr[1]) && attr[1][0].render_type === "signal") {
        if (attr[1][1].constructor.name == "AsyncFunction")
          element.setAttribute(
            attr[0],
            attr[1][1]().then(() => {
            }).catch((error) => {
              throw error;
            })
          );
        else
          element.setAttribute(
            attr[0],
            attr[1][1]()
          );
        bind(attr[1][0], () => {
          if (attr[1][1].constructor.name == "AsyncFunction")
            element.setAttribute(
              attr[0],
              attr[1][1]().then(() => {
              }).catch((error) => {
                throw error;
              })
            );
          else
            element.setAttribute(
              attr[0],
              attr[1][1]()
            );
        });
      } else
        element.setAttribute(attr[0], attr[1]);
    }
    let index = 0;
    let signals = [];
    for (let node of VDOM.children) {
      let [result_node, data] = buildFragment(node);
      if ("signals" in data && data.signals.length > 0) {
        signals.push([index, data.signals, node]);
      }
      if (typeof result_node === "string")
        element.insertAdjacentHTML("beforeend", result_node);
      else
        element.append(result_node);
      index += 1;
    }
    if (signals.length > 0) {
      for (let signal_data of signals) {
        for (let signal2 of signal_data[1]) {
          bind(signal2, () => {
            let [result_node, _] = buildFragment(signal_data[2]);
            let old = element.childNodes[signal_data[0]];
            old.replaceWith(
              result_node
            );
          });
        }
      }
    }
    return [element, {}];
  }
  if (VDOM.render_type === "child") {
    return [VDOM.content, {}];
  }
  let content_string = "";
  let signals_content = [];
  for (let content of VDOM) {
    if (content.render_type === "signal") {
      content_string += content.value;
      signals_content.push(content);
    } else if (Array.isArray(content) && content[0].render_type === "signal") {
      if (content[1].constructor.name == "AsyncFunction")
        content_string += content[1]().then(() => {
        }).catch((error) => {
          throw error;
        });
      else
        content_string += content[1]();
      signals_content.push(content[0]);
    } else if (content instanceof HTMLElement) {
    } else {
      content_string += content;
    }
  }
  return [document.createTextNode(content_string), {
    signals: signals_content
  }];
}
function template(strings, ...values) {
  return buildVDOM(collapseTemplate(strings, values));
}
function render(template2) {
  return buildFragment(template2)[0];
}
function define_and_render(strings, ...values) {
  return buildFragment(buildVDOM(collapseTemplate(strings, values)))[0];
}
var api = {
  define: template,
  render,
  signal,
  quick: define_and_render
};

// command.ts
var plugin;
function addCommand(name, callback) {
  let id = name.toLowerCase().replace(" ", "-");
  plugin.addCommand({
    id,
    name,
    callback
  });
}
function executeCommand(name) {
  return false;
}
function initAPI(module2) {
  plugin = module2;
}
var api2 = {
  add: addCommand,
  execute: executeCommand
};

// vault.ts
var plugin2;
function navigateExplorerWithLocation(location, constraint = "file") {
  let files;
  switch (constraint) {
    case "all":
      files = plugin2.app.vault.getAllLoadedFiles();
    case "file":
      files = plugin2.app.vault.getFiles();
    case "markdown":
      files = plugin2.app.vault.getMarkdownFiles();
    default:
      files = [];
  }
  for (let file of files) {
    if (file.path === location) {
      return file;
    }
  }
  return null;
}
function createItem(location, type = "markdown") {
  if (navigateExplorerWithLocation(location, "all") !== null)
    return false;
  switch (type) {
    case "folder":
      break;
    case "file":
      break;
    default:
      break;
  }
  return true;
}
function fetchItem(location) {
  return navigateExplorerWithLocation(location, "all");
}
function deleteItem(location) {
  let item = navigateExplorerWithLocation(location);
  if (item === null)
    return false;
  plugin2.app.vault.delete(item);
  return true;
}
function initAPI2(module2) {
  plugin2 = module2;
}
var api3 = {
  create: createItem,
  fetch: fetchItem,
  delete: deleteItem
};

// modal.ts
var import_obsidian = require("obsidian");
var plugin3;
var modal_map = /* @__PURE__ */ new Map();
var DVOModal = class extends import_obsidian.Modal {
  constructor(app, id) {
    super(app);
    this.id = id;
  }
  onOpen() {
    let content = modal_map.get(this.id);
    if (content === void 0)
      return;
    let { contentEl } = this;
    contentEl.append(content);
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
  setID(id) {
    this.id = id;
    return this;
  }
};
function defineModal(id, content) {
  if (content instanceof DocumentFragment) {
    let temp_div = document.createElement("div");
    temp_div.append(content);
    content = temp_div;
  }
  modal_map.set(id, content);
}
function openModal(id) {
  if (plugin3 === null)
    return;
  new DVOModal(plugin3.app, id).setID(id).open();
}
function initAPI3(module2) {
  plugin3 = module2;
}
var api4 = {
  define: defineModal,
  open: openModal
};

// workspace.ts
var plugin4;
function display(file, tab) {
  return false;
}
function createLeaf() {
}
function initAPI4(module2) {
  plugin4 = module2;
}
var api5 = {
  trunk: {
    display
  },
  leaf: {
    create: createLeaf
  }
};

// main.ts
var DVO = class extends import_obsidian2.Plugin {
  async onload() {
    initAPI(this);
    initAPI3(this);
    initAPI2(this);
    initAPI4(this);
    globalThis.DvO = {
      command: api2,
      modal: api4,
      vault: api3,
      template: api,
      workspace: api5
    };
    globalThis.DvOAsync = (callback) => {
      (async () => {
        await callback();
      })();
    };
  }
  onunload() {
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJ0ZW1wbGF0ZS50cyIsICJjb21tYW5kLnRzIiwgInZhdWx0LnRzIiwgIm1vZGFsLnRzIiwgIndvcmtzcGFjZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxuaW1wb3J0ICogYXMgdGVtcGxhdGUgZnJvbSAnLi90ZW1wbGF0ZSdcclxuaW1wb3J0ICogYXMgY29tbWFuZCBmcm9tICcuL2NvbW1hbmQnO1xyXG5pbXBvcnQgKiBhcyB2YXVsdCBmcm9tICcuL3ZhdWx0JztcclxuaW1wb3J0ICogYXMgbW9kYWwgZnJvbSAnLi9tb2RhbCc7XHJcbmltcG9ydCAqIGFzIHdvcmtzcGFjZSBmcm9tICcuL3dvcmtzcGFjZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEVk8gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGNvbW1hbmQuaW5pdEFQSSh0aGlzKVxyXG5cdFx0bW9kYWwuaW5pdEFQSSh0aGlzKVxyXG5cdFx0dmF1bHQuaW5pdEFQSSh0aGlzKVxyXG5cdFx0d29ya3NwYWNlLmluaXRBUEkodGhpcylcclxuXHJcblx0XHQvL0B0cy1pZ25vcmVcclxuXHRcdGdsb2JhbFRoaXMuRHZPID0ge1xyXG5cdFx0XHRjb21tYW5kOiBjb21tYW5kLmFwaSxcclxuXHRcdFx0bW9kYWw6IG1vZGFsLmFwaSxcclxuXHRcdFx0dmF1bHQ6IHZhdWx0LmFwaSxcclxuXHRcdFx0dGVtcGxhdGU6IHRlbXBsYXRlLmFwaSxcclxuXHRcdFx0d29ya3NwYWNlOiB3b3Jrc3BhY2UuYXBpLFxyXG5cdFx0fVxyXG5cclxuXHRcdC8vQHRzLWlnbm9yZVxyXG5cdFx0Z2xvYmFsVGhpcy5Edk9Bc3luYyA9IChcclxuXHRcdFx0KGNhbGxiYWNrOiBGdW5jdGlvbikgPT4geyhhc3luYyAoKSA9PiB7YXdhaXQgY2FsbGJhY2soKTt9KSgpO31cclxuXHRcdClcclxuXHJcblx0fVxyXG5cclxuXHRvbnVubG9hZCgpIHt9XHJcbn1cclxuIiwgImZ1bmN0aW9uIHNpZ25hbChkZWZhdWx0X3ZhbHVlID0gdW5kZWZpbmVkKSB7XHJcbiAgICBsZXQgc2lnbmFsX29iaiA9IHtcclxuICAgICAgICByZW5kZXJfdHlwZTogJ3NpZ25hbCcsXHJcbiAgICAgICAgc3Vic2NyaWJlZDogW10sXHJcbiAgICAgICAgX3ZhbHVlOiBkZWZhdWx0X3ZhbHVlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzaWduYWxfb2JqLCBcInZhbHVlXCIsIHtcclxuICAgICAgICBnZXQoKSB7cmV0dXJuIHRoaXMuX3ZhbHVlfSxcclxuICAgICAgICBzZXQobmV3X3ZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gbmV3X3ZhbHVlXHJcblx0XHQvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgdGhpcy5zdWJzY3JpYmVkLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2sobmV3X3ZhbHVlKSlcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICByZXR1cm4gc2lnbmFsX29ialxyXG59XHJcblxyXG5mdW5jdGlvbiBiaW5kKHNpZ25hbDogYW55LCBjYWxsYmFjazogYW55KSB7XHJcbiAgICBzaWduYWwuc3Vic2NyaWJlZC5wdXNoKGNhbGxiYWNrKVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY29sbGFwc2VUZW1wbGF0ZShzdHJpbmdzOiBhbnksIHZhbHVlczogYW55KSB7XHJcbiAgICBsZXQgY3VycmVudF9zdHJpbmcgPSBcIlwiLCBcclxuICAgICAgICBuZXdfcmVzdWx0ID0gW11cclxuICAgIFxyXG4gICAgZm9yKFxyXG4gICAgICAgIGxldCBpbmRleCA9IDA7IFxyXG4gICAgICAgIGluZGV4IDwgdmFsdWVzLmxlbmd0aDsgXHJcbiAgICAgICAgaW5kZXggKz0gMVxyXG4gICAgKSB7ICBcclxuICAgICAgICBjdXJyZW50X3N0cmluZyArPSBzdHJpbmdzW2luZGV4XVxyXG5cclxuICAgICAgICBpZihcclxuICAgICAgICAgICAgdmFsdWVzW2luZGV4XS5yZW5kZXJfdHlwZSA9PT0gXCJzaWduYWxcIiB8fFxyXG4gICAgICAgICAgICAoXHJcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlc1tpbmRleF0pICYmIFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XVswXS5yZW5kZXJfdHlwZSA9PT0gXCJzaWduYWxcIlxyXG4gICAgICAgICAgICApIHx8XHJcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0ucmVuZGVyX3R5cGUgPT09IFwidGVtcGxhdGVcIiB8fCAoXHJcbiAgICAgICAgICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlc1tpbmRleF0pICYmIFxyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2luZGV4XVswXS5yZW5kZXJfdHlwZSA9PT0gXCJ0ZW1wbGF0ZVwiXHJcbiAgICAgICAgICAgICkgfHxcclxuICAgICAgICAgICAgdmFsdWVzW2luZGV4XS5yZW5kZXJfdHlwZSA9PT0gXCJjaGlsZFwiIHx8XHJcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZXNbaW5kZXhdID09PSAnZnVuY3Rpb24nIHx8XHJcbiAgICAgICAgICAgIHZhbHVlc1tpbmRleF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBuZXdfcmVzdWx0LnB1c2goY3VycmVudF9zdHJpbmcpXHJcbiAgICAgICAgICAgIGN1cnJlbnRfc3RyaW5nID0gXCJcIlxyXG4gICAgICAgICAgICBuZXdfcmVzdWx0LnB1c2godmFsdWVzW2luZGV4XSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50X3N0cmluZyArPSB2YWx1ZXNbaW5kZXhdXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBuZXdfcmVzdWx0LnB1c2goY3VycmVudF9zdHJpbmcgKyBzdHJpbmdzW3N0cmluZ3MubGVuZ3RoIC0gMV0pXHJcbiAgICByZXR1cm4gbmV3X3Jlc3VsdFxyXG59XHJcblxyXG5mdW5jdGlvbiBidWlsZFZET00odGVtcGxhdGU6IGFueSkge1xyXG4gICAgbGV0IHJvb3QgPSB7XHJcbiAgICAgICAgcmVuZGVyX3R5cGU6IFwidGVtcGxhdGVcIixcclxuICAgICAgICBjaGlsZHJlbjogW11cclxuICAgIH1cclxuXHJcbiAgICBsZXQgY3VycmVudF9ub2RlID0gcm9vdFxyXG5cclxuICAgIGxldCBzdGFjayA9IFtdLFxyXG4gICAgICAgIGF0dHJpYnV0ZSA9IFtdLFxyXG4gICAgICAgIGF0dHJpYnV0ZXMgPSBbXSxcclxuICAgICAgICBjb250ZW50ID0gW11cclxuICAgIFxyXG4gICAgbGV0IGxhc3RfY2hhciA9IFwiXCIsXHJcbiAgICAgICAgZWxlbWVudCA9IFwiXCIsXHJcbiAgICAgICAgcGFydGlhbF9hdHRyaWJ1dGUgPSBcIlwiLFxyXG4gICAgICAgIHBhcnRpYWxfY29udGVudCA9IFwiXCJcclxuICAgIFxyXG4gICAgXHJcbiAgICBsZXQgaW5fdGFnID0gZmFsc2UsXHJcbiAgICAgICAgaW5fY2xvc2VfdGFnID0gZmFsc2UsXHJcbiAgICAgICAgaW5fY29udGVudCA9IGZhbHNlLFxyXG4gICAgICAgIGluX2F0dHJpYnV0ZXMgPSBmYWxzZSxcclxuICAgICAgICBpbl9hdHRyaWJ1dGVfc3RyaW5nID0gZmFsc2VcclxuICAgIFxyXG4gICAgc3RhY2sucHVzaChyb290KVxyXG5cclxuICAgIGZvcihsZXQgc2VnbWVudCBvZiB0ZW1wbGF0ZSkge1xyXG4gICAgICAgIGlmKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgY2hhciBvZiBzZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdHRycyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgIGluX3RhZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBbXCI9XCIsIFwiIFwiLCBcIj5cIl0uaW5jbHVkZXMoY2hhcikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhaW5fYXR0cmlidXRlX3N0cmluZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBpbl9hdHRyaWJ1dGVzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgICkgeyBcclxuICAgICAgICAgICAgICAgICAgICBpZihwYXJ0aWFsX2F0dHJpYnV0ZSAhPT0gXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnB1c2gocGFydGlhbF9hdHRyaWJ1dGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxfYXR0cmlidXRlID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYoXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fdGFnICYmIFxyXG4gICAgICAgICAgICAgICAgICAgIChjaGFyID09PSBcIiBcIiB8fCBjaGFyID09PSBcIj5cIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhaW5fYXR0cmlidXRlX3N0cmluZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBpbl9hdHRyaWJ1dGVzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgICl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXR0cmlidXRlLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5wdXNoKGF0dHJpYnV0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlID0gW11cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBCdWlsZCBTdHJpbmdzICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZihcclxuICAgICAgICAgICAgICAgICAgICBpbl90YWcgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgIWluX2F0dHJpYnV0ZXMgJiYgXHJcbiAgICAgICAgICAgICAgICAgICAgIVtcIi9cIiwgXCIgXCIsIFwiPlwiXS5pbmNsdWRlcyhjaGFyKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ICs9IGNoYXI7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgICAgIGluX3RhZyAmJiBcclxuICAgICAgICAgICAgICAgICAgICBpbl9hdHRyaWJ1dGVzICYmIFxyXG4gICAgICAgICAgICAgICAgICAgIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCFpbl9hdHRyaWJ1dGVfc3RyaW5nICYmICFbXCIvXCIsIFwiIFwiLCBcIj5cIiwgXCI9XCIsIFwiXFxcIlwiLCBcIidcIiwgXCJcXG5cIl0uaW5jbHVkZXMoY2hhcikpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChpbl9hdHRyaWJ1dGVfc3RyaW5nICYmICFbXCJcXFwiXCIsXS5pbmNsdWRlcyhjaGFyKSlcclxuICAgICAgICAgICAgICAgICAgICApICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICFpbl9jbG9zZV90YWdcclxuICAgICAgICAgICAgICAgICkgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbF9hdHRyaWJ1dGUgKz0gY2hhcjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoaW5fY29udGVudCAmJiBjaGFyICE9PSAnPCcpIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxfY29udGVudCArPSBjaGFyO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBPZiBUYWdcclxuICAgICAgICAgICAgICAgIGlmKGNoYXIgPT09IFwiPFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5fY29udGVudCA9IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGFydGlhbF9jb250ZW50ICE9PSBcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2gocGFydGlhbF9jb250ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZihjb250ZW50Lmxlbmd0aCAhPT0gMCAmJiBjdXJyZW50X25vZGUpXHJcblx0XHQgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfbm9kZS5jaGlsZHJlbi5wdXNoKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbXVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxfY29udGVudCA9IFwiXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gRW5kIG9mIFRhZyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGNoYXIgPT09IFwiPlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaW5fdGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyX3R5cGU6ICdub2RlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighaW5fY2xvc2VfdGFnKSB7XHJcblx0XHQgICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbXCJlbGVtZW50XCJdID0gZWxlbWVudFxyXG5cdFx0ICAgICAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbXCJhdHRyc1wiXSA9IGF0dHJpYnV0ZXNcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25vZGUuY2hpbGRyZW4ucHVzaChub2RlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihsYXN0X2NoYXIgIT09IFwiL1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChjdXJyZW50X25vZGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9ub2RlID0gbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHRcdCAgICAgICAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X25vZGUgPSBzdGFjay5wb3AoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5fdGFnID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5fY2xvc2VfdGFnID0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5fYXR0cmlidXRlcyA9IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gW11cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IFwiXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fY29udGVudCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVG9nZ2xlIFN0YXRlcyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKGluX3RhZyAmJiBjaGFyID09PSBcIiBcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fYXR0cmlidXRlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZihjaGFyID09PSBcIjxcIikgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5fdGFnID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmKGxhc3RfY2hhciA9PT0gXCI8XCIgJiYgY2hhciA9PT0gXCIvXCIpIFxyXG4gICAgICAgICAgICAgICAgICAgIGluX2Nsb3NlX3RhZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZihjaGFyID09PSBcIlxcXCJcIiAmJiBpbl9hdHRyaWJ1dGVzKVxyXG4gICAgICAgICAgICAgICAgICAgIGluX2F0dHJpYnV0ZV9zdHJpbmcgPSAhaW5fYXR0cmlidXRlX3N0cmluZztcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gVHJhY2sgQ2hhciAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxhc3RfY2hhciA9IGNoYXJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuICAgICAgICBpZihzZWdtZW50LnJlbmRlcl90eXBlID09PSAnc2lnbmFsJykge1xyXG4gICAgICAgICAgICBpZihpbl9jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50LnB1c2gocGFydGlhbF9jb250ZW50KVxyXG4gICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICBwYXJ0aWFsX2NvbnRlbnQgPSBcIlwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGluX2F0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5wdXNoKHNlZ21lbnQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHR5cGVvZiBzZWdtZW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGlmKGluX2F0dHJpYnV0ZXMgJiYgYXR0cmlidXRlLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlLnB1c2goc2VnbWVudClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoXHJcbiAgICAgICAgICAgIHNlZ21lbnQucmVuZGVyX3R5cGUgPT09ICd0ZW1wbGF0ZScgfHxcclxuICAgICAgICAgICAgc2VnbWVudC5yZW5kZXJfdHlwZSA9PT0gJ2NoaWxkJ1xyXG4gICAgICAgICkge1xyXG5cdFx0ICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBjdXJyZW50X25vZGUuY2hpbGRyZW4ucHVzaChzZWdtZW50KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xyXG4gICAgICAgICAgICBpZihzZWdtZW50WzBdLnJlbmRlcl90eXBlID09PSBcInNpZ25hbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZihpbl9jb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudC5wdXNoKHBhcnRpYWxfY29udGVudClcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LnB1c2goc2VnbWVudClcclxuICAgICAgICAgICAgICAgICAgICBwYXJ0aWFsX2NvbnRlbnQgPSBcIlwiXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoaW5fYXR0cmlidXRlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5wdXNoKHNlZ21lbnQpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmKHNlZ21lbnRbMF0ucmVuZGVyX3R5cGUgPT09IFwidGVtcGxhdGVcIikge1xyXG5cdFx0ICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRfbm9kZS5jaGlsZHJlbi5wdXNoKC4uLnNlZ21lbnQpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNlZ21lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgY3VycmVudF9ub2RlLmNoaWxkcmVuLnB1c2goc2VnbWVudClcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByb290XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoVkRPTTogYW55KSB7XHJcbiAgICBpZihWRE9NIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gW1ZET00sIHt9XVxyXG4gICAgfVxyXG5cclxuICAgIGlmKFZET00ucmVuZGVyX3R5cGUgPT09ICd0ZW1wbGF0ZScpIHtcclxuICAgICAgICBsZXQgbm9kZV9mcmFnbWVudCA9IG5ldyBEb2N1bWVudEZyYWdtZW50KClcclxuICAgICAgICBmb3IgKGxldCBub2RlIG9mIFZET00uY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgbGV0IFtyZXN1bHRfbm9kZSwgX10gPSBidWlsZEZyYWdtZW50KG5vZGUpXHJcbiAgICAgICAgICAgIG5vZGVfZnJhZ21lbnQuYXBwZW5kKHJlc3VsdF9ub2RlKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW25vZGVfZnJhZ21lbnQsIHt9XVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChWRE9NLnJlbmRlcl90eXBlID09PSAnbm9kZScpIHtcclxuICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoVkRPTVtcImVsZW1lbnRcIl0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgYXR0ciBvZiBWRE9NLmF0dHJzKSB7XHJcbiAgICAgICAgICAgIGlmKFxyXG4gICAgICAgICAgICAgICAgYXR0clswXS5zdGFydHNXaXRoKFwiW1wiKSAmJiBcclxuICAgICAgICAgICAgICAgIGF0dHJbMF0uZW5kc1dpdGgoXCJdXCIpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgICAgICBhdHRyWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJzdHIoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0clswXS5sZW5ndGgtMlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJbMV1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGF0dHIubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0clswXSwgXCJcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYoYXR0clsxXS5yZW5kZXJfdHlwZSA9PT0gJ3NpZ25hbCcpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0dHJbMF0sIGF0dHJbMV0udmFsdWUpXHJcbiAgICAgICAgICAgICAgICBiaW5kKGF0dHJbMV0sICh2YWx1ZTphbnkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyWzBdLCB2YWx1ZSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihcclxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoYXR0clsxXSkgJiYgYXR0clsxXVswXS5yZW5kZXJfdHlwZSA9PT0gJ3NpZ25hbCdcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICBpZihhdHRyWzFdWzFdLmNvbnN0cnVjdG9yLm5hbWUgPT0gJ0FzeW5jRnVuY3Rpb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyWzBdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0clsxXVsxXSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpPT57fSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBlbGVtZW50LnNldEF0dHJpYnV0ZShcclxuICAgICAgICAgICAgICAgICAgICBhdHRyWzBdLCBcclxuICAgICAgICAgICAgICAgICAgICBhdHRyWzFdWzFdKClcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgYmluZChhdHRyWzFdWzBdLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXR0clsxXVsxXS5jb25zdHJ1Y3Rvci5uYW1lID09ICdBc3luY0Z1bmN0aW9uJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyWzBdLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJbMV1bMV0oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCk9Pnt9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJbMF0sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyWzFdWzFdKClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyWzBdLCBhdHRyWzFdKTsgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCBpbmRleCA9IDBcclxuICAgICAgICBsZXQgc2lnbmFscyA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgbm9kZSBvZiBWRE9NLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGxldCBbcmVzdWx0X25vZGUsIGRhdGFdID0gYnVpbGRGcmFnbWVudChub2RlKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoJ3NpZ25hbHMnIGluIGRhdGEgJiYgZGF0YS5zaWduYWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHNpZ25hbHMucHVzaChbaW5kZXgsIGRhdGEuc2lnbmFscywgbm9kZV0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiByZXN1bHRfbm9kZSA9PT0gJ3N0cmluZycpXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgcmVzdWx0X25vZGUpO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZChyZXN1bHRfbm9kZSk7XHJcbiAgICAgICAgICAgIGluZGV4ICs9IDFcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHNpZ25hbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmb3IobGV0IHNpZ25hbF9kYXRhIG9mIHNpZ25hbHMpIHtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgc2lnbmFsIG9mIHNpZ25hbF9kYXRhWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmluZChzaWduYWwsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFtyZXN1bHRfbm9kZSwgX10gPSBidWlsZEZyYWdtZW50KHNpZ25hbF9kYXRhWzJdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb2xkID0gZWxlbWVudC5jaGlsZE5vZGVzW3NpZ25hbF9kYXRhWzBdXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGQucmVwbGFjZVdpdGgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRfbm9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gW2VsZW1lbnQsIHt9XVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChWRE9NLnJlbmRlcl90eXBlID09PSAnY2hpbGQnKSB7XHJcbiAgICAgICAgcmV0dXJuIFtWRE9NLmNvbnRlbnQsIHt9XVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBsZXQgY29udGVudF9zdHJpbmcgPSBcIlwiXHJcbiAgICBsZXQgc2lnbmFsc19jb250ZW50ID0gW11cclxuXHJcbiAgICBmb3IobGV0IGNvbnRlbnQgb2YgVkRPTSkge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgY29udGVudC5yZW5kZXJfdHlwZSA9PT0gXCJzaWduYWxcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb250ZW50X3N0cmluZyArPSBjb250ZW50LnZhbHVlXHJcbiAgICAgICAgICAgIHNpZ25hbHNfY29udGVudC5wdXNoKGNvbnRlbnQpXHJcbiAgICAgICAgfSBlbHNlIGlmKEFycmF5LmlzQXJyYXkoY29udGVudCkgJiYgY29udGVudFswXS5yZW5kZXJfdHlwZSA9PT0gJ3NpZ25hbCcpIHtcclxuICAgICAgICAgICAgaWYoY29udGVudFsxXS5jb25zdHJ1Y3Rvci5uYW1lID09ICdBc3luY0Z1bmN0aW9uJylcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRfc3RyaW5nICs9IGNvbnRlbnRbMV0oKS50aGVuKCgpPT57fSkuY2F0Y2goKGVycm9yOiBFcnJvcik9Pnt0aHJvdyBlcnJvcjt9KTtcclxuICAgICAgICAgICAgZWxzZSBjb250ZW50X3N0cmluZyArPSBjb250ZW50WzFdKCk7XHJcbiAgICAgICAgICAgIHNpZ25hbHNfY29udGVudC5wdXNoKGNvbnRlbnRbMF0pXHJcbiAgICAgICAgfSBlbHNlIGlmKGNvbnRlbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnRfc3RyaW5nICs9IGNvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50X3N0cmluZyksIHtcclxuICAgICAgICBzaWduYWxzOiBzaWduYWxzX2NvbnRlbnRcclxuICAgIH1dXHJcblxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gdGVtcGxhdGUgKHN0cmluZ3M6IGFueVtdLCAuLi52YWx1ZXM6IGFueVtdKSB7XHJcbiAgICByZXR1cm4gYnVpbGRWRE9NKGNvbGxhcHNlVGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzKSlcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyKHRlbXBsYXRlOiBhbnkpIHtcclxuICAgIHJldHVybiBidWlsZEZyYWdtZW50KHRlbXBsYXRlKVswXVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWZpbmVfYW5kX3JlbmRlcihzdHJpbmdzOiBhbnlbXSwgLi4udmFsdWVzOiBhbnlbXSkge1xyXG4gICAgcmV0dXJuIGJ1aWxkRnJhZ21lbnQoYnVpbGRWRE9NKGNvbGxhcHNlVGVtcGxhdGUoc3RyaW5ncywgdmFsdWVzKSkpWzBdXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSB7XHJcbiAgICBkZWZpbmU6IHRlbXBsYXRlLFxyXG4gICAgcmVuZGVyLFxyXG4gICAgc2lnbmFsLFxyXG4gICAgcXVpY2s6IGRlZmluZV9hbmRfcmVuZGVyXHJcbn0iLCAiaW1wb3J0IHsgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxubGV0IHBsdWdpbjogUGx1Z2luXHJcblxyXG5cclxuLy8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBhZGRDb21tYW5kKG5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICgpID0+IHZvaWQpIHtcclxuICAgIGxldCBpZCA9IG5hbWVcclxuICAgICAgICAudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIC5yZXBsYWNlKFwiIFwiLCBcIi1cIilcclxuXHJcbiAgICAgICAgcGx1Z2luLmFkZENvbW1hbmQoe1xyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgY2FsbGJhY2tcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4ZWN1dGVDb21tYW5kKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcblxyXG4vLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QVBJKG1vZHVsZTogUGx1Z2luKSB7XHJcbiAgICBwbHVnaW4gPSBtb2R1bGVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGFwaSA9IHtcclxuICAgIGFkZDogYWRkQ29tbWFuZCxcclxuICAgIGV4ZWN1dGU6IGV4ZWN1dGVDb21tYW5kXHJcbn0iLCAiaW1wb3J0IHsgVEZpbGUsIFRGb2xkZXIsIFBsdWdpbiB9IGZyb20gXCJvYnNpZGlhblwiXHJcblxyXG5sZXQgcGx1Z2luOiBQbHVnaW47XHJcblxyXG5cclxuLy8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcblxyXG50eXBlIEV4cGxvcmVyTG9jYXRpb24gPSBURmlsZSB8IFRGb2xkZXIgfCBudWxsXHJcbnR5cGUgRXhwbG9yZXJDb25zdHJhaW50ID0gKFxyXG4gICAgXCJhbGxcIiB8XHJcbiAgICBcImZvbGRlclwiIHxcclxuICAgIFwiZmlsZVwiIHxcclxuICAgIFwibWFya2Rvd25cIlxyXG4pXHJcbmZ1bmN0aW9uIG5hdmlnYXRlRXhwbG9yZXJXaXRoTG9jYXRpb24oXHJcbiAgICBsb2NhdGlvbjogc3RyaW5nLCBcclxuICAgIGNvbnN0cmFpbnQ6IEV4cGxvcmVyQ29uc3RyYWludCA9IFwiZmlsZVwiXHJcbik6IEV4cGxvcmVyTG9jYXRpb24ge1xyXG4gICAgbGV0IGZpbGVzOiBBcnJheTxhbnk+O1xyXG4gICAgc3dpdGNoKGNvbnN0cmFpbnQpIHtcclxuICAgICAgICBjYXNlIFwiYWxsXCI6XHJcbiAgICAgICAgICAgIGZpbGVzID0gcGx1Z2luLmFwcC52YXVsdC5nZXRBbGxMb2FkZWRGaWxlcygpXHJcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcclxuICAgICAgICAgICAgZmlsZXMgPSBwbHVnaW4uYXBwLnZhdWx0LmdldEZpbGVzKClcclxuICAgICAgICBjYXNlIFwibWFya2Rvd25cIjpcclxuICAgICAgICAgICAgZmlsZXMgPSBwbHVnaW4uYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKVxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGZpbGVzID0gW11cclxuICAgIH1cclxuICAgIFxyXG4gICAgZm9yKGxldCBmaWxlIG9mIGZpbGVzKSB7XHJcbiAgICAgICAgaWYoZmlsZS5wYXRoID09PSBsb2NhdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmlsZVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIG51bGxcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlSXRlbShcclxuICAgIGxvY2F0aW9uOiBzdHJpbmcsIFxyXG4gICAgdHlwZTogRXhjbHVkZTxFeHBsb3JlckNvbnN0cmFpbnQsIFwiYWxsXCI+ID0gXCJtYXJrZG93blwiXHJcbik6IGJvb2xlYW4ge1xyXG4gICAgaWYobmF2aWdhdGVFeHBsb3JlcldpdGhMb2NhdGlvbihsb2NhdGlvbiwgXCJhbGxcIikgIT09IG51bGwpIFxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICBzd2l0Y2godHlwZSkge1xyXG4gICAgICAgIGNhc2UgXCJmb2xkZXJcIjpcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICBjYXNlIFwiZmlsZVwiOlxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWVcclxufVxyXG5cclxuZnVuY3Rpb24gZmV0Y2hJdGVtKGxvY2F0aW9uOiBzdHJpbmcpOiBFeHBsb3JlckxvY2F0aW9uIHtcclxuICAgIHJldHVybiBuYXZpZ2F0ZUV4cGxvcmVyV2l0aExvY2F0aW9uKGxvY2F0aW9uLCBcImFsbFwiKVxyXG59XHJcblxyXG5mdW5jdGlvbiBkZWxldGVJdGVtKGxvY2F0aW9uOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgIGxldCBpdGVtID0gbmF2aWdhdGVFeHBsb3JlcldpdGhMb2NhdGlvbihsb2NhdGlvbilcclxuICAgIGlmIChpdGVtID09PSBudWxsKSBcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICBcclxuICAgIHBsdWdpbi5hcHAudmF1bHQuZGVsZXRlKGl0ZW0pXHJcbiAgICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG5cclxuXHJcbi8vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QVBJKG1vZHVsZTogUGx1Z2luKSB7XHJcbiAgICBwbHVnaW4gPSBtb2R1bGVcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSB7XHJcbiAgICBjcmVhdGU6IGNyZWF0ZUl0ZW0sXHJcbiAgICBmZXRjaDogZmV0Y2hJdGVtLFxyXG4gICAgZGVsZXRlOiBkZWxldGVJdGVtXHJcbn0iLCAiaW1wb3J0IHsgQXBwLCBNb2RhbCwgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5cclxubGV0IHBsdWdpbjogUGx1Z2luO1xyXG5cclxuXHJcbi8vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG50eXBlIE1vZGFsQ29udGVudHMgPSBzdHJpbmcgfCBIVE1MRWxlbWVudFxyXG5jb25zdCBtb2RhbF9tYXAgPSBuZXcgTWFwPHN0cmluZywgTW9kYWxDb250ZW50cz4oKVxyXG5cclxuY2xhc3MgRFZPTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cHVibGljIGlkOiBzdHJpbmdcclxuXHJcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIGlkOiBzdHJpbmcpIHtcclxuXHRcdHN1cGVyKGFwcCk7XHJcblx0XHR0aGlzLmlkID0gaWRcclxuXHR9XHJcbiAgXHJcblx0b25PcGVuKCkge1xyXG5cdFx0bGV0IGNvbnRlbnQgPSBtb2RhbF9tYXAuZ2V0KHRoaXMuaWQpXHJcblx0XHRpZiAoY29udGVudCA9PT0gdW5kZWZpbmVkKSByZXR1cm47XHJcblx0XHRcclxuXHRcdGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpc1xyXG5cdFx0Y29udGVudEVsLmFwcGVuZChjb250ZW50KVxyXG5cclxuXHR9XHJcbiAgXHJcblx0b25DbG9zZSgpIHtcclxuXHQgIFx0bGV0IHsgY29udGVudEVsIH0gPSB0aGlzXHJcblx0ICBcdGNvbnRlbnRFbC5lbXB0eSgpXHJcblx0fVxyXG5cclxuXHRzZXRJRChpZDogc3RyaW5nKSB7XHJcblx0XHR0aGlzLmlkID0gaWRcclxuXHRcdHJldHVybiB0aGlzXHJcblx0fVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZGVmaW5lTW9kYWwoaWQ6IHN0cmluZywgY29udGVudDogTW9kYWxDb250ZW50cyB8IERvY3VtZW50RnJhZ21lbnQpIHtcclxuXHRpZihjb250ZW50IGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xyXG5cdFx0bGV0IHRlbXBfZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxyXG5cdFx0dGVtcF9kaXYuYXBwZW5kKGNvbnRlbnQpXHJcblx0XHRjb250ZW50ID0gdGVtcF9kaXZcclxuXHR9XHJcblxyXG4gICAgbW9kYWxfbWFwLnNldChpZCwgY29udGVudClcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKGlkOiBzdHJpbmcpIHtcclxuICAgIGlmIChwbHVnaW4gPT09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICBuZXcgRFZPTW9kYWwocGx1Z2luLmFwcCwgaWQpXHJcbiAgICAgICAgLnNldElEKGlkKVxyXG4gICAgICAgIC5vcGVuKClcclxufVxyXG5cclxuXHJcbi8vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFQSShtb2R1bGU6IFBsdWdpbikge1xyXG4gICAgcGx1Z2luID0gbW9kdWxlXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSB7XHJcbiAgICBkZWZpbmU6IGRlZmluZU1vZGFsLFxyXG4gICAgb3Blbjogb3Blbk1vZGFsXHJcbn0iLCAiaW1wb3J0IHsgVEZpbGUsIFBsdWdpbiB9IGZyb20gXCJvYnNpZGlhblwiXHJcblxyXG5sZXQgcGx1Z2luOiBQbHVnaW47XHJcblxyXG5cclxuLy8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuXHJcblxyXG50eXBlIERpc3BsYXlPblRhYiA9IChcclxuICAgIFwiY3VycmVudFwiIHwgXHJcbiAgICBcInJpZ2h0XCJcclxuKVxyXG5mdW5jdGlvbiBkaXNwbGF5KGZpbGU6IFRGaWxlLCB0YWI6IERpc3BsYXlPblRhYik6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxlYWYoKSB7fVxyXG5cclxuXHJcbi8vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0QVBJKG1vZHVsZTogUGx1Z2luKSB7XHJcbiAgICBwbHVnaW4gPSBtb2R1bGVcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGFwaSA9IHtcclxuICAgIHRydW5rOiB7XHJcbiAgICAgICAgZGlzcGxheVxyXG4gICAgfSxcclxuICAgIGxlYWY6IHtcclxuICAgICAgICBjcmVhdGU6IGNyZWF0ZUxlYWZcclxuICAgIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBdUI7OztBQ0F2QixTQUFTLE9BQU8sZ0JBQWdCLFFBQVc7QUFDdkMsTUFBSSxhQUFhO0FBQUEsSUFDYixhQUFhO0FBQUEsSUFDYixZQUFZLENBQUM7QUFBQSxJQUNiLFFBQVE7QUFBQSxFQUNaO0FBRUEsU0FBTyxlQUFlLFlBQVksU0FBUztBQUFBLElBQ3ZDLE1BQU07QUFBQyxhQUFPLEtBQUs7QUFBQSxJQUFNO0FBQUEsSUFDekIsSUFBSSxXQUFXO0FBQ1gsV0FBSyxTQUFTO0FBRWQsV0FBSyxXQUFXLFFBQVEsY0FBWSxTQUFTLFNBQVMsQ0FBQztBQUFBLElBQzNEO0FBQUEsRUFDSixDQUFDO0FBRUQsU0FBTztBQUNYO0FBRUEsU0FBUyxLQUFLQyxTQUFhLFVBQWU7QUFDdEMsRUFBQUEsUUFBTyxXQUFXLEtBQUssUUFBUTtBQUNuQztBQUdBLFNBQVMsaUJBQWlCLFNBQWMsUUFBYTtBQUNqRCxNQUFJLGlCQUFpQixJQUNqQixhQUFhLENBQUM7QUFFbEIsV0FDUSxRQUFRLEdBQ1osUUFBUSxPQUFPLFFBQ2YsU0FBUyxHQUNYO0FBQ0Usc0JBQWtCLFFBQVEsS0FBSztBQUUvQixRQUNJLE9BQU8sS0FBSyxFQUFFLGdCQUFnQixZQUUxQixNQUFNLFFBQVEsT0FBTyxLQUFLLENBQUMsS0FDM0IsT0FBTyxLQUFLLEVBQUUsQ0FBQyxFQUFFLGdCQUFnQixZQUVyQyxPQUFPLEtBQUssRUFBRSxnQkFBZ0IsY0FDMUIsTUFBTSxRQUFRLE9BQU8sS0FBSyxDQUFDLEtBQzNCLE9BQU8sS0FBSyxFQUFFLENBQUMsRUFBRSxnQkFBZ0IsY0FFckMsT0FBTyxLQUFLLEVBQUUsZ0JBQWdCLFdBQzlCLE9BQU8sT0FBTyxLQUFLLE1BQU0sY0FDekIsT0FBTyxLQUFLLGFBQWEsYUFDM0I7QUFDRSxpQkFBVyxLQUFLLGNBQWM7QUFDOUIsdUJBQWlCO0FBQ2pCLGlCQUFXLEtBQUssT0FBTyxLQUFLLENBQUM7QUFBQSxJQUNqQyxPQUFPO0FBQ0gsd0JBQWtCLE9BQU8sS0FBSztBQUFBLElBQ2xDO0FBQUEsRUFDSjtBQUVBLGFBQVcsS0FBSyxpQkFBaUIsUUFBUSxRQUFRLFNBQVMsQ0FBQyxDQUFDO0FBQzVELFNBQU87QUFDWDtBQUVBLFNBQVMsVUFBVUMsV0FBZTtBQUM5QixNQUFJLE9BQU87QUFBQSxJQUNQLGFBQWE7QUFBQSxJQUNiLFVBQVUsQ0FBQztBQUFBLEVBQ2Y7QUFFQSxNQUFJLGVBQWU7QUFFbkIsTUFBSSxRQUFRLENBQUMsR0FDVCxZQUFZLENBQUMsR0FDYixhQUFhLENBQUMsR0FDZCxVQUFVLENBQUM7QUFFZixNQUFJLFlBQVksSUFDWixVQUFVLElBQ1Ysb0JBQW9CLElBQ3BCLGtCQUFrQjtBQUd0QixNQUFJLFNBQVMsT0FDVCxlQUFlLE9BQ2YsYUFBYSxPQUNiLGdCQUFnQixPQUNoQixzQkFBc0I7QUFFMUIsUUFBTSxLQUFLLElBQUk7QUFFZixXQUFRLFdBQVdBLFdBQVU7QUFDekIsUUFBRyxPQUFPLFlBQVksVUFBVTtBQUM1QixlQUFRLFFBQVEsU0FBUztBQUVyQixZQUNJLFVBQ0EsQ0FBQyxLQUFLLEtBQUssR0FBRyxFQUFFLFNBQVMsSUFBSSxLQUM3QixDQUFDLHVCQUNELGlCQUNBLENBQUMsY0FDSDtBQUNFLGNBQUcsc0JBQXNCO0FBQ3JCLHNCQUFVLEtBQUssaUJBQWlCO0FBQ3BDLDhCQUFvQjtBQUFBLFFBQ3hCO0FBQ0EsWUFDSSxXQUNDLFNBQVMsT0FBTyxTQUFTLFFBQzFCLENBQUMsdUJBQ0QsaUJBQ0EsQ0FBQyxjQUNKO0FBQ0csY0FBRyxVQUFVLFdBQVc7QUFDcEIsdUJBQVcsS0FBSyxTQUFTO0FBQzdCLHNCQUFZLENBQUM7QUFBQSxRQUNqQjtBQUdBLFlBQ0ksVUFDQSxDQUFDLGlCQUNELENBQUMsQ0FBQyxLQUFLLEtBQUssR0FBRyxFQUFFLFNBQVMsSUFBSSxLQUM5QixDQUFDO0FBRUQscUJBQVc7QUFFZixZQUNJLFVBQ0Esa0JBRUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLEtBQUssS0FBSyxLQUFLLEtBQUssS0FBTSxLQUFLLElBQUksRUFBRSxTQUFTLElBQUksS0FDNUUsdUJBQXVCLENBQUMsQ0FBQyxHQUFLLEVBQUUsU0FBUyxJQUFJLE1BRWxELENBQUM7QUFFRCwrQkFBcUI7QUFFekIsWUFBRyxjQUFjLFNBQVM7QUFDdEIsNkJBQW1CO0FBR3ZCLFlBQUcsU0FBUyxLQUFLO0FBQ2IsdUJBQWE7QUFDYixjQUFHLG9CQUFvQjtBQUNuQixvQkFBUSxLQUFLLGVBQWU7QUFDaEMsY0FBRyxRQUFRLFdBQVcsS0FBSztBQUV2Qix5QkFBYSxTQUFTLEtBQUssT0FBTztBQUN0QyxvQkFBVSxDQUFDO0FBQ1gsNEJBQWtCO0FBQUEsUUFDdEI7QUFHQSxZQUFHLFNBQVMsS0FBSztBQUNiLGNBQUcsUUFBUTtBQUNQLGdCQUFJLE9BQU87QUFBQSxjQUNQLGFBQWE7QUFBQSxjQUNiLFVBQVUsQ0FBQztBQUFBLFlBQ2Y7QUFFQSxnQkFBRyxDQUFDLGNBQWM7QUFFZCxtQkFBSyxTQUFTLElBQUk7QUFFbEIsbUJBQUssT0FBTyxJQUFJO0FBRWhCLDJCQUFhLFNBQVMsS0FBSyxJQUFJO0FBRS9CLGtCQUFHLGNBQWMsS0FBSztBQUNsQixzQkFBTSxLQUFLLFlBQVk7QUFDdkIsK0JBQWU7QUFBQSxjQUNuQjtBQUFBLFlBRUosT0FBTztBQUVILDZCQUFlLE1BQU0sSUFBSTtBQUFBLFlBQzdCO0FBR0EscUJBQVM7QUFDVCwyQkFBZTtBQUNmLDRCQUFnQjtBQUVoQix5QkFBYSxDQUFDO0FBQ2Qsc0JBQVU7QUFBQSxVQUNkO0FBRUEsdUJBQWE7QUFBQSxRQUNqQjtBQUdBLFlBQUcsVUFBVSxTQUFTO0FBQ2xCLDBCQUFnQjtBQUNwQixZQUFHLFNBQVM7QUFDUixtQkFBUztBQUNiLFlBQUcsY0FBYyxPQUFPLFNBQVM7QUFDN0IseUJBQWU7QUFDbkIsWUFBRyxTQUFTLE9BQVE7QUFDaEIsZ0NBQXNCLENBQUM7QUFHM0Isb0JBQVk7QUFBQSxNQUNoQjtBQUFBLElBQ0o7QUFHQSxRQUFHLFFBQVEsZ0JBQWdCLFVBQVU7QUFDakMsVUFBRyxZQUFZO0FBQ1gsZ0JBQVEsS0FBSyxlQUFlO0FBQzVCLGdCQUFRLEtBQUssT0FBTztBQUNwQiwwQkFBa0I7QUFBQSxNQUN0QjtBQUVBLFVBQUcsZUFBZTtBQUNkLGtCQUFVLEtBQUssT0FBTztBQUFBLE1BQzFCO0FBQUEsSUFDSjtBQUVBLFFBQUcsT0FBTyxZQUFZLFlBQVk7QUFDOUIsVUFBRyxpQkFBaUIsVUFBVSxXQUFXLEdBQUc7QUFDeEMsa0JBQVUsS0FBSyxPQUFPO0FBQUEsTUFDMUI7QUFBQSxJQUNKO0FBRUEsUUFDSSxRQUFRLGdCQUFnQixjQUN4QixRQUFRLGdCQUFnQixTQUMxQjtBQUVFLG1CQUFhLFNBQVMsS0FBSyxPQUFPO0FBQUEsSUFDdEM7QUFFQSxRQUFHLE1BQU0sUUFBUSxPQUFPLEdBQUc7QUFDdkIsVUFBRyxRQUFRLENBQUMsRUFBRSxnQkFBZ0IsVUFBVTtBQUNwQyxZQUFHLFlBQVk7QUFDWCxrQkFBUSxLQUFLLGVBQWU7QUFDNUIsa0JBQVEsS0FBSyxPQUFPO0FBQ3BCLDRCQUFrQjtBQUFBLFFBQ3RCO0FBRUEsWUFBRyxlQUFlO0FBQ2Qsb0JBQVUsS0FBSyxPQUFPO0FBQUEsUUFDMUI7QUFBQSxNQUNKO0FBRUEsVUFBRyxRQUFRLENBQUMsRUFBRSxnQkFBZ0IsWUFBWTtBQUV0QyxxQkFBYSxTQUFTLEtBQUssR0FBRyxPQUFPO0FBQUEsTUFDekM7QUFBQSxJQUNKO0FBRUEsUUFBRyxtQkFBbUIsYUFBYTtBQUUvQixtQkFBYSxTQUFTLEtBQUssT0FBTztBQUFBLElBQ3RDO0FBQUEsRUFFSjtBQUVBLFNBQU87QUFDWDtBQUVBLFNBQVMsY0FBYyxNQUFXO0FBQzlCLE1BQUcsZ0JBQWdCLGFBQWE7QUFDNUIsV0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQUEsRUFDcEI7QUFFQSxNQUFHLEtBQUssZ0JBQWdCLFlBQVk7QUFDaEMsUUFBSSxnQkFBZ0IsSUFBSSxpQkFBaUI7QUFDekMsYUFBUyxRQUFRLEtBQUssVUFBVTtBQUM1QixVQUFJLENBQUMsYUFBYSxDQUFDLElBQUksY0FBYyxJQUFJO0FBQ3pDLG9CQUFjLE9BQU8sV0FBVztBQUFBLElBQ3BDO0FBQ0EsV0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQUEsRUFDN0I7QUFFQSxNQUFJLEtBQUssZ0JBQWdCLFFBQVE7QUFDN0IsUUFBSSxVQUFVLFNBQVMsY0FBYyxLQUFLLFNBQVMsQ0FBQztBQUVwRCxhQUFTLFFBQVEsS0FBSyxPQUFPO0FBQ3pCLFVBQ0ksS0FBSyxDQUFDLEVBQUUsV0FBVyxHQUFHLEtBQ3RCLEtBQUssQ0FBQyxFQUFFLFNBQVMsR0FBRztBQUVwQixnQkFBUTtBQUFBLFVBQ0osS0FBSyxDQUFDLEVBQ0Q7QUFBQSxZQUNHO0FBQUEsWUFDQSxLQUFLLENBQUMsRUFBRSxTQUFPO0FBQUEsVUFDbkI7QUFBQSxVQUNKLEtBQUssQ0FBQztBQUFBLFFBQ1Y7QUFBQSxlQUNLLEtBQUssV0FBVztBQUNyQixnQkFBUSxhQUFhLEtBQUssQ0FBQyxHQUFHLEVBQUU7QUFBQSxlQUM1QixLQUFLLENBQUMsRUFBRSxnQkFBZ0IsVUFBVTtBQUN0QyxnQkFBUSxhQUFhLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxFQUFFLEtBQUs7QUFDM0MsYUFBSyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQWM7QUFDekIsa0JBQVEsYUFBYSxLQUFLLENBQUMsR0FBRyxLQUFLO0FBQUEsUUFDdkMsQ0FBQztBQUFBLE1BQ0wsV0FDSSxNQUFNLFFBQVEsS0FBSyxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsZ0JBQWdCLFVBQ3ZEO0FBQ0UsWUFBRyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsWUFBWSxRQUFRO0FBQzlCLGtCQUFRO0FBQUEsWUFDSixLQUFLLENBQUM7QUFBQSxZQUNOLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUNWLEtBQUssTUFBSTtBQUFBLFlBQUMsQ0FBQyxFQUNYLE1BQU0sQ0FBQyxVQUFlO0FBQ25CLG9CQUFNO0FBQUEsWUFDVixDQUFDO0FBQUEsVUFDTDtBQUFBO0FBQ0Msa0JBQVE7QUFBQSxZQUNULEtBQUssQ0FBQztBQUFBLFlBQ04sS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUEsVUFDZjtBQUVBLGFBQUssS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU07QUFDbkIsY0FBRyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsWUFBWSxRQUFRO0FBQzlCLG9CQUFRO0FBQUEsY0FDSixLQUFLLENBQUM7QUFBQSxjQUNOLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUNWLEtBQUssTUFBSTtBQUFBLGNBQUMsQ0FBQyxFQUNYLE1BQU0sQ0FBQyxVQUFlO0FBQ25CLHNCQUFNO0FBQUEsY0FDVixDQUFDO0FBQUEsWUFDTDtBQUFBO0FBQ0Msb0JBQVE7QUFBQSxjQUNULEtBQUssQ0FBQztBQUFBLGNBQ04sS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQUEsWUFDZjtBQUFBLFFBQ0osQ0FBQztBQUFBLE1BQ0w7QUFFSSxnQkFBUSxhQUFhLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQUEsSUFDN0M7QUFFQSxRQUFJLFFBQVE7QUFDWixRQUFJLFVBQVUsQ0FBQztBQUNmLGFBQVMsUUFBUSxLQUFLLFVBQVU7QUFDNUIsVUFBSSxDQUFDLGFBQWEsSUFBSSxJQUFJLGNBQWMsSUFBSTtBQUU1QyxVQUFHLGFBQWEsUUFBUSxLQUFLLFFBQVEsU0FBUyxHQUFHO0FBQzdDLGdCQUFRLEtBQUssQ0FBQyxPQUFPLEtBQUssU0FBUyxJQUFJLENBQUM7QUFBQSxNQUM1QztBQUVBLFVBQUcsT0FBTyxnQkFBZ0I7QUFDdEIsZ0JBQVEsbUJBQW1CLGFBQWEsV0FBVztBQUFBO0FBRW5ELGdCQUFRLE9BQU8sV0FBVztBQUM5QixlQUFTO0FBQUEsSUFDYjtBQUVBLFFBQUcsUUFBUSxTQUFTLEdBQUc7QUFDbkIsZUFBUSxlQUFlLFNBQVM7QUFDNUIsaUJBQVFELFdBQVUsWUFBWSxDQUFDLEdBQUc7QUFDOUIsZUFBS0EsU0FBUSxNQUFNO0FBQ2YsZ0JBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxjQUFjLFlBQVksQ0FBQyxDQUFDO0FBQ25ELGdCQUFJLE1BQU0sUUFBUSxXQUFXLFlBQVksQ0FBQyxDQUFDO0FBQzNDLGdCQUFJO0FBQUEsY0FDQTtBQUFBLFlBQ0o7QUFBQSxVQUNKLENBQUM7QUFBQSxRQUNMO0FBQUEsTUFDSjtBQUFBLElBQ0o7QUFFQSxXQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFBQSxFQUN2QjtBQUVBLE1BQUksS0FBSyxnQkFBZ0IsU0FBUztBQUM5QixXQUFPLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQztBQUFBLEVBQzVCO0FBR0EsTUFBSSxpQkFBaUI7QUFDckIsTUFBSSxrQkFBa0IsQ0FBQztBQUV2QixXQUFRLFdBQVcsTUFBTTtBQUNyQixRQUNJLFFBQVEsZ0JBQWdCLFVBQzFCO0FBQ0Usd0JBQWtCLFFBQVE7QUFDMUIsc0JBQWdCLEtBQUssT0FBTztBQUFBLElBQ2hDLFdBQVUsTUFBTSxRQUFRLE9BQU8sS0FBSyxRQUFRLENBQUMsRUFBRSxnQkFBZ0IsVUFBVTtBQUNyRSxVQUFHLFFBQVEsQ0FBQyxFQUFFLFlBQVksUUFBUTtBQUM5QiwwQkFBa0IsUUFBUSxDQUFDLEVBQUUsRUFBRSxLQUFLLE1BQUk7QUFBQSxRQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsVUFBZTtBQUFDLGdCQUFNO0FBQUEsUUFBTSxDQUFDO0FBQUE7QUFDL0UsMEJBQWtCLFFBQVEsQ0FBQyxFQUFFO0FBQ2xDLHNCQUFnQixLQUFLLFFBQVEsQ0FBQyxDQUFDO0FBQUEsSUFDbkMsV0FBVSxtQkFBbUIsYUFBYTtBQUFBLElBQzFDLE9BQU87QUFDSCx3QkFBa0I7QUFBQSxJQUN0QjtBQUFBLEVBQ0o7QUFFQSxTQUFPLENBQUMsU0FBUyxlQUFlLGNBQWMsR0FBRztBQUFBLElBQzdDLFNBQVM7QUFBQSxFQUNiLENBQUM7QUFHTDtBQUVBLFNBQVMsU0FBVSxZQUFtQixRQUFlO0FBQ2pELFNBQU8sVUFBVSxpQkFBaUIsU0FBUyxNQUFNLENBQUM7QUFDdEQ7QUFFQSxTQUFTLE9BQU9DLFdBQWU7QUFDM0IsU0FBTyxjQUFjQSxTQUFRLEVBQUUsQ0FBQztBQUNwQztBQUVBLFNBQVMsa0JBQWtCLFlBQW1CLFFBQWU7QUFDekQsU0FBTyxjQUFjLFVBQVUsaUJBQWlCLFNBQVMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ3hFO0FBRU8sSUFBTSxNQUFNO0FBQUEsRUFDZixRQUFRO0FBQUEsRUFDUjtBQUFBLEVBQ0E7QUFBQSxFQUNBLE9BQU87QUFDWDs7O0FDN1pBLElBQUk7QUFPSixTQUFTLFdBQVcsTUFBYyxVQUFzQjtBQUNwRCxNQUFJLEtBQUssS0FDSixZQUFZLEVBQ1osUUFBUSxLQUFLLEdBQUc7QUFFakIsU0FBTyxXQUFXO0FBQUEsSUFDbEI7QUFBQSxJQUNBO0FBQUEsSUFDQTtBQUFBLEVBQ0osQ0FBQztBQUNMO0FBRUEsU0FBUyxlQUFlLE1BQXVCO0FBQzNDLFNBQU87QUFDWDtBQU9PLFNBQVMsUUFBUUMsU0FBZ0I7QUFDcEMsV0FBU0E7QUFDYjtBQUVPLElBQU1DLE9BQU07QUFBQSxFQUNmLEtBQUs7QUFBQSxFQUNMLFNBQVM7QUFDYjs7O0FDbkNBLElBQUlDO0FBY0osU0FBUyw2QkFDTCxVQUNBLGFBQWlDLFFBQ2pCO0FBQ2hCLE1BQUk7QUFDSixVQUFPLFlBQVk7QUFBQSxJQUNmLEtBQUs7QUFDRCxjQUFRQSxRQUFPLElBQUksTUFBTSxrQkFBa0I7QUFBQSxJQUMvQyxLQUFLO0FBQ0QsY0FBUUEsUUFBTyxJQUFJLE1BQU0sU0FBUztBQUFBLElBQ3RDLEtBQUs7QUFDRCxjQUFRQSxRQUFPLElBQUksTUFBTSxpQkFBaUI7QUFBQSxJQUM5QztBQUNJLGNBQVEsQ0FBQztBQUFBLEVBQ2pCO0FBRUEsV0FBUSxRQUFRLE9BQU87QUFDbkIsUUFBRyxLQUFLLFNBQVMsVUFBVTtBQUN2QixhQUFPO0FBQUEsSUFDWDtBQUFBLEVBQ0o7QUFFQSxTQUFPO0FBQ1g7QUFFQSxTQUFTLFdBQ0wsVUFDQSxPQUEyQyxZQUNwQztBQUNQLE1BQUcsNkJBQTZCLFVBQVUsS0FBSyxNQUFNO0FBQ2pELFdBQU87QUFFWCxVQUFPLE1BQU07QUFBQSxJQUNULEtBQUs7QUFDRDtBQUFBLElBQ0osS0FBSztBQUNEO0FBQUEsSUFDSjtBQUNJO0FBQUEsRUFDUjtBQUVBLFNBQU87QUFDWDtBQUVBLFNBQVMsVUFBVSxVQUFvQztBQUNuRCxTQUFPLDZCQUE2QixVQUFVLEtBQUs7QUFDdkQ7QUFFQSxTQUFTLFdBQVcsVUFBMkI7QUFDM0MsTUFBSSxPQUFPLDZCQUE2QixRQUFRO0FBQ2hELE1BQUksU0FBUztBQUNULFdBQU87QUFFWCxFQUFBQSxRQUFPLElBQUksTUFBTSxPQUFPLElBQUk7QUFDNUIsU0FBTztBQUNYO0FBU08sU0FBU0MsU0FBUUMsU0FBZ0I7QUFDcEMsRUFBQUYsVUFBU0U7QUFDYjtBQUdPLElBQU1DLE9BQU07QUFBQSxFQUNmLFFBQVE7QUFBQSxFQUNSLE9BQU87QUFBQSxFQUNQLFFBQVE7QUFDWjs7O0FDekZBLHNCQUFtQztBQUVuQyxJQUFJQztBQU9KLElBQU0sWUFBWSxvQkFBSSxJQUEyQjtBQUVqRCxJQUFNLFdBQU4sY0FBdUIsc0JBQU07QUFBQSxFQUc1QixZQUFZLEtBQVUsSUFBWTtBQUNqQyxVQUFNLEdBQUc7QUFDVCxTQUFLLEtBQUs7QUFBQSxFQUNYO0FBQUEsRUFFQSxTQUFTO0FBQ1IsUUFBSSxVQUFVLFVBQVUsSUFBSSxLQUFLLEVBQUU7QUFDbkMsUUFBSSxZQUFZO0FBQVc7QUFFM0IsUUFBSSxFQUFFLFVBQVUsSUFBSTtBQUNwQixjQUFVLE9BQU8sT0FBTztBQUFBLEVBRXpCO0FBQUEsRUFFQSxVQUFVO0FBQ1AsUUFBSSxFQUFFLFVBQVUsSUFBSTtBQUNwQixjQUFVLE1BQU07QUFBQSxFQUNuQjtBQUFBLEVBRUEsTUFBTSxJQUFZO0FBQ2pCLFNBQUssS0FBSztBQUNWLFdBQU87QUFBQSxFQUNSO0FBQ0Q7QUFHQSxTQUFTLFlBQVksSUFBWSxTQUEyQztBQUMzRSxNQUFHLG1CQUFtQixrQkFBa0I7QUFDdkMsUUFBSSxXQUFXLFNBQVMsY0FBYyxLQUFLO0FBQzNDLGFBQVMsT0FBTyxPQUFPO0FBQ3ZCLGNBQVU7QUFBQSxFQUNYO0FBRUcsWUFBVSxJQUFJLElBQUksT0FBTztBQUM3QjtBQUVBLFNBQVMsVUFBVSxJQUFZO0FBQzNCLE1BQUlBLFlBQVc7QUFBTTtBQUVyQixNQUFJLFNBQVNBLFFBQU8sS0FBSyxFQUFFLEVBQ3RCLE1BQU0sRUFBRSxFQUNSLEtBQUs7QUFDZDtBQU1PLFNBQVNDLFNBQVFDLFNBQWdCO0FBQ3BDLEVBQUFGLFVBQVNFO0FBQ2I7QUFFTyxJQUFNQyxPQUFNO0FBQUEsRUFDZixRQUFRO0FBQUEsRUFDUixNQUFNO0FBQ1Y7OztBQ25FQSxJQUFJQztBQVdKLFNBQVMsUUFBUSxNQUFhLEtBQTRCO0FBQ3RELFNBQU87QUFDWDtBQUVBLFNBQVMsYUFBYTtBQUFDO0FBS2hCLFNBQVNDLFNBQVFDLFNBQWdCO0FBQ3BDLEVBQUFGLFVBQVNFO0FBQ2I7QUFFTyxJQUFNQyxPQUFNO0FBQUEsRUFDZixPQUFPO0FBQUEsSUFDSDtBQUFBLEVBQ0o7QUFBQSxFQUNBLE1BQU07QUFBQSxJQUNGLFFBQVE7QUFBQSxFQUNaO0FBQ0o7OztBTHpCQSxJQUFxQixNQUFyQixjQUFpQyx3QkFBTztBQUFBLEVBQ3ZDLE1BQU0sU0FBUztBQUNkLElBQVEsUUFBUSxJQUFJO0FBQ3BCLElBQU1DLFNBQVEsSUFBSTtBQUNsQixJQUFNQSxTQUFRLElBQUk7QUFDbEIsSUFBVUEsU0FBUSxJQUFJO0FBR3RCLGVBQVcsTUFBTTtBQUFBLE1BQ2hCLFNBQWlCQztBQUFBLE1BQ2pCLE9BQWFBO0FBQUEsTUFDYixPQUFhQTtBQUFBLE1BQ2IsVUFBbUI7QUFBQSxNQUNuQixXQUFxQkE7QUFBQSxJQUN0QjtBQUdBLGVBQVcsV0FDVixDQUFDLGFBQXVCO0FBQUMsT0FBQyxZQUFZO0FBQUMsY0FBTSxTQUFTO0FBQUEsTUFBRSxHQUFHO0FBQUEsSUFBRTtBQUFBLEVBRy9EO0FBQUEsRUFFQSxXQUFXO0FBQUEsRUFBQztBQUNiOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAic2lnbmFsIiwgInRlbXBsYXRlIiwgIm1vZHVsZSIsICJhcGkiLCAicGx1Z2luIiwgImluaXRBUEkiLCAibW9kdWxlIiwgImFwaSIsICJwbHVnaW4iLCAiaW5pdEFQSSIsICJtb2R1bGUiLCAiYXBpIiwgInBsdWdpbiIsICJpbml0QVBJIiwgIm1vZHVsZSIsICJhcGkiLCAiaW5pdEFQSSIsICJhcGkiXQp9Cg==
